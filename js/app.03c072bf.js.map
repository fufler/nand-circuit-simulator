{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c650","webpack:///./src/views/About.vue?28d3","webpack:///./src/views/CircuitSimulator.vue?f95e","webpack:///./src/App.vue?50da","webpack:///./src/libsim/Pins.ts","webpack:///./src/App.vue?f42b","webpack:///./src/App.vue","webpack:///./src/views/About.vue?299a","webpack:///./src/views/About.vue","webpack:///./src/views/About.vue?2b51","webpack:///./src/views/About.vue?00a0","webpack:///./src/views/CircuitSimulator.vue?d026","webpack:///./src/libsim/CircuitElement.ts","webpack:///./src/libsim/Devices.ts","webpack:///./src/libsim/Engine.ts","webpack:///./src/libsim/CircuitDefinition.ts","webpack:///./src/libsim/Buses.ts","webpack:///./src/libsim/elements/logic/Nand.ts","webpack:///./src/libsim/elements/logic/Not.ts","webpack:///./src/libsim/elements/logic/Or.ts","webpack:///./src/libsim/elements/logic/And.ts","webpack:///./src/libsim/elements/selectors/Mux.ts","webpack:///./src/libsim/elements/selectors/Mux16.ts","webpack:///./src/libsim/elements/logic/Not16.ts","webpack:///./src/libsim/elements/logic/And16.ts","webpack:///./src/libsim/elements/logic/Xor.ts","webpack:///./src/libsim/elements/arithmetic/HalfAdder.ts","webpack:///./src/libsim/elements/arithmetic/FullAdder.ts","webpack:///./src/libsim/elements/arithmetic/Adder16.ts","webpack:///./src/libsim/elements/logic/Or8Way.ts","webpack:///./src/libsim/elements/logic/Or16Way.ts","webpack:///./src/libsim/elements/arithmetic/ALU.ts","webpack:///./src/views/CircuitSimulator.vue","webpack:///./src/views/CircuitSimulator.vue?adca","webpack:///./src/views/CircuitSimulator.vue?3ce1","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Signal","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","staticRenderFns","script","component","directives","rawName","expression","domProps","on","$event","target","composing","definition","loadDefinition","editDefinitionMode","ref","run","graphDisplayDepth","id","v4","DevicePinType","engine","device","signal","undefined","getSignalFromLinkedPin","signalFromLinkedPin","hasCustomLogic","propagate","LOW","HIGH","throwError","constr","msg","Error","sleep","interval","Promise","resolve","setTimeout","queue","pinsLinks","Map","pinsLinksInverted","devicesConstructors","callback","sleepInterval","executionLimit","iterationCounter","startTime","Date","now","shouldContinue","e","doSleep","elements","Array","isArray","src","dst","has","links","indexOf","set","_src","pins","_dst","linkPins","pin","getSignal","deviceConstructor","pinDef","size","setSignal","devices","deviceDef","type","init","resolvePin","pinId","dotIndex","deviceId","substring","devicePins","getPins","pinName","map","find","linkDef","srcPin","srcId","dstPin","dstId","link","allPins","Set","from","keys","entries","CircuitDefinitionParseSchema","array","string","nonempty","optional","number","lte","gte","def","parse","JSON","busName","times","buses","storePin","makePin","INPUT","OUTPUT","bus","forEach","makeBus","count","ctor","makeDevices","INTERNAL","inA","makeInPin","inB","out","makeOutPin","makeInBus","makeOutBus","a","b","nand","makeDevice","in","notA","notB","not","sel","or","andA","andB","muxes","nots","ands","nandAB","nandA","nandB","outSum","outCarry","and","xor","inC","halfAdder1","halfAdder2","fullAdders","falsePin","makeFalsePin","fa","ors","orHigh","orLow","zx","zy","nx","ny","f","no","zr","ng","zeroXMux","zeroYMux","invertXNot","invertYNot","invertXMux","invertYMux","and16","adder16","resultMux","resultInvertNot","resultInvertMux","resultZeroOr","resultZeroNot","falseBus","defaultCircuitDefinition","nodeDimensionsIncludeLabels","fit","rankSep","nodeSep","edgeSep","extend","stringify","simulationInterval","mounted","use","opts","$options","cy","container","$refs","cytoscape","style","selector","label","shape","methods","registerDeviceConstructor","getLinks","depths","getElementDepth","depth","allowedDepth","parseInt","skip","group","classes","parent","add","source","q","pop","startBatch","remove","endBatch","layout","options","cyEl","getElementById","removeClass","addClass","routes","path","About","CircuitSimulator","router","Store","state","mutations","actions","config","productionTip","store","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,mDAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,sGCvJT,W,kCCAA,W,2DCAA,W,kCCAA,W,8GCIYyC,E,YCJR,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,MAAM,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,uBAAuB,CAACN,EAAIQ,GAAG,wBAAwB,GAAGJ,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,gBAAgB,MAC7VK,EAAkB,G,kCCAlBC,EAAS,GAOTC,EAAY,eACdD,EACA,EACAD,GACA,EACA,KACA,WACA,MAIa,EAAAE,E,oBCnBX,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,WAAW,CAACP,EAAIQ,GAAG,uCACrI,EAAkB,GCMP,GACblC,KAAM,SCRwX,ICQ5X,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI0B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACtC,KAAK,OAAOuC,QAAQ,SAAS9B,MAAOiB,EAAsB,mBAAEc,WAAW,uBAAuBP,YAAY,cAAc,CAACH,EAAG,WAAW,CAACQ,WAAW,CAAC,CAACtC,KAAK,QAAQuC,QAAQ,UAAU9B,MAAOiB,EAAc,WAAEc,WAAW,eAAeC,SAAS,CAAC,MAASf,EAAc,YAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBnB,EAAIoB,WAAWH,EAAOC,OAAOnC,WAAUiB,EAAIQ,GAAG,KAAKJ,EAAG,SAAS,CAACY,GAAG,CAAC,MAAQhB,EAAIqB,iBAAiB,CAACrB,EAAIQ,GAAG,cAAcJ,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACtC,KAAK,OAAOuC,QAAQ,SAAS9B,OAAQiB,EAAIsB,mBAAoBR,WAAW,wBAAwBP,YAAY,aAAa,CAACH,EAAG,MAAM,CAACmB,IAAI,YAAYhB,YAAY,wBAAwBH,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,SAAS,CAACY,GAAG,CAAC,MAAQhB,EAAIqB,iBAAiB,CAACrB,EAAIQ,GAAG,aAAaJ,EAAG,SAAS,CAACG,YAAY,MAAMS,GAAG,CAAC,MAAQhB,EAAIwB,MAAM,CAACxB,EAAIQ,GAAG,WAAWJ,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACtC,KAAK,QAAQuC,QAAQ,UAAU9B,MAAOiB,EAAqB,kBAAEc,WAAW,sBAAsBR,MAAM,CAAC,YAAc,uBAAuBS,SAAS,CAAC,MAASf,EAAqB,mBAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBnB,EAAIyB,kBAAkBR,EAAOC,OAAOnC,kBACpxC,EAAkB,G,gLCEA,EAAtB,oCACa,KAAA2C,GAAK,OAAAC,EAAA,URAlB,SAAY5B,GACR,oBACA,uBAFJ,CAAYA,MAAM,KAKX,ISEK6B,ETFC,EAAb,wDAMI,WAAaC,EAAgBvD,EAAcwD,GAAe,oCACxD,eACA,EAAKD,OAASA,EACd,EAAKC,OAASA,EACd,EAAKxD,KAAOA,EACZ,EAAKyD,YAASC,EAL0C,EAN9D,gDAcI,W,MACE,OAA+C,QAA/C,EAAO/B,KAAK4B,OAAOI,uBAAuBhC,aAAK,QAAIA,KAAK8B,SAf9D,uBAkBI,WACE,IAAMG,EAAsBjC,KAAK4B,OAAOI,uBAAuBhC,MAE/D,YAA4B+B,IAAxBE,GAEAjC,KAAK8B,SAAWG,IAEpBjC,KAAK8B,OAASG,EAEK,MAAfjC,KAAK6B,SAAmB7B,KAAK6B,OAAOK,iBAExClC,KAAK4B,OAAOO,UAAUnC,KAAK6B,SACpB,QA9Bb,GAAyB,GAkCZ,EAAb,2KACE,WACE,OAAO/B,EAAOsC,QAFlB,GAA8B,GAMjB,EAAb,2KACE,WACE,OAAOtC,EAAOuC,SAFlB,GAA6B,GAMhB,EAAb,2KACE,SAAWP,GACLA,IAAW9B,KAAK8B,SAEpB9B,KAAK8B,OAASA,EACd9B,KAAK4B,OAAOO,UAAU,CAACnC,YAL3B,GAAkC,G,0FUhD5BsC,EAAa,SAACC,EAA8BC,GAEhD,MAAM,IAAID,EAAOC,IAGN,EAAb,oJAA+BC,QAGlB,EAAb,oJAAwCA,QAG3B,EAAb,oJAA0CA,QAapCC,EAAQ,SAACC,GAAD,OAAsB,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,OAElE,EAAb,+CACU,KAAAI,MAA+B,GAC/B,KAAAC,UAAkC,IAAIC,IACtC,KAAAC,kBAAmC,IAAID,IAEvC,KAAAE,oBAAsD,IAAIF,IALpE,0CAOQ,SAAKG,EAA6CC,GAA4C,I,EAApBC,EAAoB,uDAAH,I,oLAC3FC,EAAmB,EACjBC,EAAYC,KAAKC,MAEjBC,EAAiB,WACrB,QAAMJ,EAAmB,MAAS,GAI3BE,KAAKC,MAAQF,GAAaF,G,YAG5BtD,KAAK+C,MAAMtG,OAAS,GAAKkH,K,sBAClB3D,KAAK+C,MAAMpF,OAAO,EAAG,G,sBAA1BiG,E,KAEHA,EAAEzB,aAAeyB,aAAa,IAChC,EAAA5D,KAAK+C,OAAMhG,KAAX,uBAAyC,QAArB,EAAAiD,KAAKgD,UAAUtE,IAAIkF,UAAE,QAAI,KAG3CC,GAAU,OAEG9B,IAAbqB,IACFS,EAAUA,GAAWT,EAASQ,SAGV7B,IAAlBsB,IAA+BQ,E,iBACjC,O,UAAMnB,EAAMW,G,wDAIa,IAAtBrD,KAAK+C,MAAMtG,Q,mDArCtB,uBAwCE,SAAWqH,GAAgD,OACzD,EAAA9D,KAAK+C,OAAMhG,KAAX,uBAAoBgH,MAAMC,QAAQF,GAAYA,EAAW,CAACA,OAzC9D,sBA4CU,SAAUG,EAAUC,G,MAC1B,GAAID,IAAQC,EACV,MAAM,IAAI,EAAU,8BAGtB,GAAIlE,KAAKkD,kBAAkBiB,IAAID,GAC7B,MAAM,IAAI,EAAJ,mDAA0DA,EAAI7F,OAGtE,IAAM+F,EAA+B,QAA1B,EAAGpE,KAAKgD,UAAUtE,IAAIuF,UAAI,QAAI,GAEzC,IAA4B,IAAxBG,EAAMC,QAAQH,GAChB,MAAM,IAAI,EAAJ,kDAAyDD,EAAI5F,KAA7D,gBAAyE6F,EAAI7F,OAGrF+F,EAAMrH,KAAKmH,GAEXlE,KAAKkD,kBAAkBoB,IAAIJ,EAAKD,GAChCjE,KAAKgD,UAAUsB,IAAIL,EAAKG,KA9D5B,kBAiEE,SAAMH,EAAyBC,GAC7B,IAAMK,EAAON,aAAe,EAAM,CAACA,GAAOF,MAAMC,QAAQC,GAAOA,EAAMA,EAAIO,KACnEC,EAAOP,aAAe,EAAM,CAACA,GAAOH,MAAMC,QAAQE,GAAOA,EAAMA,EAAIM,KAEzE,GAAID,EAAK9H,SAAWgI,EAAKhI,OACvB,MAAM,IAAI,EAAJ,iDAAwD8H,EAAK9H,OAA7D,gBAA2EgI,EAAKhI,SAGxF,IAAK,IAAIF,EAAI,EAAGA,EAAIgI,EAAK9H,OAAQF,IAC/ByD,KAAK0E,SAASH,EAAKhI,GAAIkI,EAAKlI,MA1ElC,oCA8EE,SAAwBoI,G,MACtB,OAAsC,QAAtC,EAAO3E,KAAKkD,kBAAkBxE,IAAIiG,UAAI,eAAEC,cA/E5C,uCAkFE,SAA2BC,EAAsCxG,GAC/D,GAAI2B,KAAKmD,oBAAoBgB,IAAI9F,GAC/B,MAAM,IAAI,EAAJ,4CAA4DA,EAA5D,eAGR2B,KAAKmD,oBAAoBmB,IAAIjG,EAAMwG,KAvFvC,4BA0FE,SAAgB1D,G,UACd,EAAmBA,GAEnB,IAH2C,EAGrCqD,EAAO,IAAIvB,IAH0B,iBAKtB9B,EAAWqD,MALW,IAK3C,2BAAsC,KAA3BM,EAA2B,QAC9BH,EAAM,IAAI,EAAa3E,KAAiB,QAAb,EAAE8E,EAAOzG,YAAI,QAAb,cAAwBmG,EAAKO,OAK9D,QAJsBhD,IAAlB+C,EAAOhD,QACT6C,EAAIK,UAAUF,EAAOhD,QAGnB0C,EAAKL,IAAIW,EAAOrD,IAClB,MAAM,IAAIgB,MAAJ,qCAAwCqC,EAAOrD,GAA/C,WAGR+C,EAAKF,IAAIQ,EAAOrD,GAAIkD,IAfqB,8BAkB3C,IAlB2C,EAkBrCM,EAAU,IAAIhC,IAlBuB,iBAoBnB9B,EAAW8D,SApBQ,IAoB3C,2BAA4C,KAAjCC,EAAiC,QACpCL,EAAgE,QAA/C,EAAG7E,KAAKmD,oBAAoBzE,IAAIwG,EAAUC,aAAK,QAAI7C,EAAW,EAAD,wCAAwD4C,EAAUC,OAGhJtD,EAAS,IAAIgD,EAAkB7E,KAAoB,QAAhB,EAAEkF,EAAU7G,YAAI,QAAI6G,EAAUC,MAIvE,GAFAtD,EAAOuD,OAEHH,EAAQd,IAAIe,EAAUzD,IACxB,MAAM,IAAIgB,MAAJ,8BAAiCyC,EAAUzD,GAA3C,eAGRwD,EAAQX,IAAIY,EAAUzD,GAAII,IAhCe,8BAmC3C,IAnC2C,EAmCrCwD,EAAa,SAACC,G,UACZC,EAAWD,EAAMjB,QAAQ,KAE/B,IAAkB,IAAdkB,EACF,OAAsB,QAAtB,EAAOf,EAAK9F,IAAI4G,UAAM,QAAIhD,EAAW,EAAD,iCAAiDgD,EAAjD,eAGtC,IAAME,EAAWF,EAAMG,UAAU,EAAGF,GAE9B1D,EAA8B,QAAxB,EAAGoD,EAAQvG,IAAI8G,UAAS,QAAIlD,EAAW,EAAD,mCAAmDkD,EAAnD,eAE5CE,EAAa7D,EAAO8D,UACpBC,EAAUN,EAAMG,UAAUF,EAAW,GAE3C,OAA8D,QAA9D,EAAOG,EAAWG,KAAI,SAAApG,GAAC,OAAIA,EAAE,MAAIqG,MAAK,SAAArG,GAAC,OAAIA,EAAEpB,OAASuH,YAAQ,QAAItD,EAAW,EAAD,wBAAwCsD,EAAxC,gCAAuEJ,KAjD1G,iBAoDrBrE,EAAWiD,OApDU,IAoD3C,2BAAwC,KAA7B2B,EAA6B,QAChCC,EAASX,EAAWU,EAAQE,OAC5BC,EAASb,EAAWU,EAAQI,OAElCnG,KAAKoG,KAAKJ,EAAQE,IAxDuB,iCA1F/C,qBAsJE,WACE,IAAMG,EAAU,IAAIC,IAAJ,yBACXvC,MAAMwC,KAAKvG,KAAKgD,UAAUwD,SADf,eAEXzC,MAAMwC,KAAKvG,KAAKkD,kBAAkBsD,WAGvC,OAAOzC,MAAMwC,KAAKF,KA5JtB,sBA+JE,WACE,OAAOtC,MAAMwC,KAAKvG,KAAKkD,kBAAkBuD,WAAWZ,KAAI,sCAAE3B,EAAF,KAAOD,EAAP,WAAiB,CACvEA,MACAC,cAlKN,KCLMwC,EAA+B,OAAEnH,OAAO,CAC5C0F,QAAS,OAAE0B,MACT,OAAEpH,OAAO,CACP4F,KAAM,OAAEyB,SAASC,WACjBxI,KAAM,OAAEuI,SAASE,WACjBrF,GAAI,OAAEmF,SAASC,cAEjBA,WAEFrC,KAAM,OAAEmC,MACN,OAAEpH,OAAO,CACPkC,GAAI,OAAEmF,SAASC,WACfxI,KAAM,OAAEuI,SAASE,WACjBhF,OAAQ,OAAEiF,SAASC,IAAIlH,EAAOuC,MAAM4E,IAAInH,EAAOsC,KAAK0E,cAEtDD,WAEFzC,MAAO,OAAEuC,MACP,OAAEpH,OAAO,CACP0G,MAAO,OAAEW,SAASC,WAClBV,MAAO,OAAES,SAASC,cAEpBA,aAGS,EAAqB,SAACK,GACjC,IACER,EAA6BS,MAAMD,GACnC,MAAOtD,GACP,MAAM,IAAI,EAAqB,gCAItB,EAAwB,SAACsD,GACpC,IACE,OAAOR,EAA6BS,MAAMC,KAAKD,MAAMD,IACrD,SACA,MAAM,IAAI,EAAqB,4C,gGCvDtB,GAKX,WAAazK,EAAgBmF,EAAgBvD,EAAewD,GAAe,uBACzE,IAAMwF,EAAc,OAAJhJ,QAAI,IAAJA,IAAA,cAAe,OAAAqD,EAAA,SAC/B1B,KAAK3B,KAAOgJ,EAEZrH,KAAKwE,KAAO,IAAE8C,MAAM7K,GAAQ,SAAA6C,GAAC,OAAI,IAAI,EAAIsC,EAAR,UAAmByF,EAAnB,YAA8B/H,GAAKuC,QHRxE,SAAYF,GACV,wBACA,0BACA,+BAHF,CAAYA,MAAa,KAWlB,IAAe,GAAtB,wDAcE,WAAaC,EAAgBvD,EAAcwD,GAAe,oCACxD,eACA,EAAKD,OAASA,EACd,EAAKvD,KAAOA,EACZ,EAAKwD,OAASA,EAJ0C,EAd5D,2CAqBE,SAAMoC,EAAyBC,GAC7BlE,KAAK4B,OAAOwE,KAAKnC,EAAKC,OAtB1B,GAAqC,GA4Bf,GAAtB,yG,0BACW,EAAAhC,gBAAiB,EAD5B,mDAGE,WACE,MAAO,OAJX,GAAgD,IAQ1B,GAAtB,yG,0BACW,EAAAA,gBAAiB,EAElB,EAAAsC,KAAmB,GACnB,EAAA+C,MAAoB,GACpB,EAAAtC,QAAyB,GALnC,iDAOU,SAAyBN,EAAQQ,GAGvC,OAFAnF,KAAKwE,KAAKzH,KAAK,CAAC4H,EAAKQ,IAEdR,IAVX,qBAaU,SAAStG,EAAc8G,GAC7B,OAAOnF,KAAKwH,SACV,IAAI,EAAIxH,KAAK4B,OAAQvD,EAAM2B,MAC3BmF,KAhBN,uBAoBY,SAAW9G,GACnB,OAAO2B,KAAKyH,QAAQpJ,EAAMsD,EAAc+F,SArB5C,wBAwBY,SAAYrJ,GACpB,OAAO2B,KAAKyH,QAAQpJ,EAAMsD,EAAcgG,UAzB5C,qBA4BU,SAASlL,EAAgB4B,EAAc8G,GAAmB,WAC1DyC,EAAM,IAAI,GAAInL,EAAQuD,KAAK4B,OAAQvD,EAAM2B,MAM/C,OAJAA,KAAKuH,MAAMxK,KAAK6K,GAEhBA,EAAIpD,KAAKqD,SAAQ,SAAApI,GAAC,OAAI,EAAK+H,SAAS/H,EAAG0F,MAEhCyC,IAnCX,uBAsCY,SAAWnL,EAAgB4B,GACnC,OAAO2B,KAAK8H,QAAQrL,EAAQ4B,EAAMsD,EAAc+F,SAvCpD,wBA0CY,SAAYjL,EAAgB4B,GACpC,OAAO2B,KAAK8H,QAAQrL,EAAQ4B,EAAMsD,EAAcgG,UA3CpD,yBA8CY,SAA+BI,EAAeC,EAA4B3J,GAAY,aAExF4G,EAAU,IAAEqC,MAAMS,GAAO,SAAAzI,GAAC,OAAI,IAAI0I,EAAK,EAAKpG,OAAd,UAAyBvD,EAAzB,YAAiCiB,EAAI,GAAK,MAM9E,OAJA2F,EAAQ4C,SAAQ,SAAAzJ,GAAC,OAAIA,EAAEgH,WAEvB,EAAApF,KAAKiF,SAAQlI,KAAb,uBAAqBkI,IAEdA,IAtDX,wBAyDY,SAA8B+C,EAA4B3J,GAClE,OAAO2B,KAAKiI,YAAY,EAAGD,EAAM3J,GAAM,KA1D3C,0BA6DY,SAAcA,GACtB,OAAO2B,KAAKwH,SACV,IAAI,EAASxH,KAAK4B,OAAQvD,EAAM2B,MAChC2B,EAAcuG,YAhEpB,yBAoEY,SAAa7J,GACrB,OAAO2B,KAAKwH,SACV,IAAI,EAAQxH,KAAK4B,OAAQvD,EAAM2B,MAC/B2B,EAAcuG,YAvEpB,qBA2EE,WACE,OAAOlI,KAAKwE,OA5EhB,sBA+EE,WACE,OAAOxE,KAAKuH,QAhFhB,wBAmFE,WACE,OAAOvH,KAAKiF,UApFhB,uBAuFE,WACE,OAAO,MAxFX,GAA6C,IA4FvB,GAAtB,yG,0BACW,EAAAkD,IAAM,EAAKC,UAAU,OACrB,EAAAC,IAAM,EAAKD,UAAU,OACrB,EAAAE,IAAM,EAAKC,WAAW,OAHjC,YAAoD,IAM9B,GAAtB,yG,0BACW,EAAAJ,IAAM,EAAKK,UAAU,GAAI,OACzB,EAAAH,IAAM,EAAKG,UAAU,GAAI,OACzB,EAAAF,IAAM,EAAKG,WAAW,GAAI,OAHrC,YAAsD,I,aIvJzC,GAAb,wDAKE,WAAa7G,EAAgBvD,EAAcwD,GAAe,oCACxD,cAAMD,EAAQvD,EAAMwD,GAEpB,EAAKsG,IAAM,IAAI,EAAIvG,EAAQ,MAAhB,oBACX,EAAKyG,IAAM,IAAI,EAAIzG,EAAQ,MAAhB,oBACX,EAAK0G,IAAM,IAAI,EAAa1G,EAAQ,MAAzB,oBAL6C,EAL5D,gDAaE,WACE,IAAM8G,EAAI1I,KAAKmI,IAAIvD,YACb+D,EAAI3I,KAAKqI,IAAIzD,YAInB,OAFA5E,KAAKsI,IAAItD,UAAU0D,IAAM5I,EAAOsC,KAAOuG,IAAM7I,EAAOsC,KAAOsG,IAAMC,EAAI7I,EAAOuC,KAAOvC,EAAOsC,MAEnF,IAnBX,qBAsBE,WACE,MAAO,CACL,CAACpC,KAAKmI,IAAKxG,EAAc+F,OACzB,CAAC1H,KAAKqI,IAAK1G,EAAc+F,OACzB,CAAC1H,KAAKsI,IAAK3G,EAAcgG,WA1B/B,sBA8BE,WACE,MAAO,KA/BX,kBAkCE,gBAlCF,GAA0B,ICFb,GAAb,yG,0BACmB,EAAAiB,KAAO,EAAKC,WAAW,GAAM,QACrC,EAAAC,GAAK,EAAKV,UAAU,MACpB,EAAAE,IAAM,EAAKC,WAAW,OAHjC,6CAKE,WACEvI,KAAKoG,KAAKpG,KAAK8I,GAAI9I,KAAK4I,KAAKT,KAC7BnI,KAAKoG,KAAKpG,KAAK8I,GAAI9I,KAAK4I,KAAKP,KAC7BrI,KAAKoG,KAAKpG,KAAK4I,KAAKN,IAAKtI,KAAKsI,SARlC,GAAyB,ICCZ,GAAb,yG,0BACmB,EAAAM,KAAO,EAAKC,WAAW,GAAM,QAC7B,EAAAE,KAAO,EAAKF,WAAW,GAAK,QAC5B,EAAAG,KAAO,EAAKH,WAAW,GAAK,QAH/C,6CAKE,WACE7I,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAK+I,KAAKD,IAC9B9I,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAKgJ,KAAKF,IAE9B9I,KAAKoG,KAAKpG,KAAK+I,KAAKT,IAAKtI,KAAK4I,KAAKT,KACnCnI,KAAKoG,KAAKpG,KAAKgJ,KAAKV,IAAKtI,KAAK4I,KAAKP,KAEnCrI,KAAKoG,KAAKpG,KAAK4I,KAAKN,IAAKtI,KAAKsI,SAZlC,GAAwB,ICAX,GAAb,yG,0BACmB,EAAAM,KAAO,EAAKC,WAAW,GAAM,QAC7B,EAAAI,IAAM,EAAKJ,WAAW,GAAK,OAF9C,6CAIE,WACE7I,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAK4I,KAAKT,KAC9BnI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAK4I,KAAKP,KAC9BrI,KAAKoG,KAAKpG,KAAK4I,KAAKN,IAAKtI,KAAKiJ,IAAIH,IAClC9I,KAAKoG,KAAKpG,KAAKiJ,IAAIX,IAAKtI,KAAKsI,SARjC,GAAyB,ICCZ,GAAb,yG,0BACW,EAAAH,IAAM,EAAKC,UAAU,OACrB,EAAAC,IAAM,EAAKD,UAAU,OACrB,EAAAc,IAAM,EAAKd,UAAU,OACrB,EAAAE,IAAM,EAAKC,WAAW,OAEd,EAAAY,GAAK,EAAKN,WAAW,GAAI,MACzB,EAAAI,IAAM,EAAKJ,WAAW,GAAK,OAC3B,EAAAO,KAAO,EAAKP,WAAW,GAAK,QAC5B,EAAAQ,KAAO,EAAKR,WAAW,GAAK,QAT/C,6CAWE,WACE7I,KAAKoG,KAAKpG,KAAKkJ,IAAKlJ,KAAKiJ,IAAIH,IAE7B9I,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAKoJ,KAAKjB,KAC9BnI,KAAKoG,KAAKpG,KAAKiJ,IAAIX,IAAKtI,KAAKoJ,KAAKf,KAElCrI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAKqJ,KAAKhB,KAC9BrI,KAAKoG,KAAKpG,KAAKkJ,IAAKlJ,KAAKqJ,KAAKlB,KAE9BnI,KAAKoG,KAAKpG,KAAKoJ,KAAKd,IAAKtI,KAAKmJ,GAAGhB,KACjCnI,KAAKoG,KAAKpG,KAAKqJ,KAAKf,IAAKtI,KAAKmJ,GAAGd,KACjCrI,KAAKoG,KAAKpG,KAAKmJ,GAAGb,IAAKtI,KAAKsI,SAtBhC,GAAyB,ICAZ,GAAb,yG,0BACW,EAAAH,IAAM,EAAKK,UAAU,GAAI,OACzB,EAAAH,IAAM,EAAKG,UAAU,GAAI,OACzB,EAAAU,IAAM,EAAKd,UAAU,OACrB,EAAAE,IAAM,EAAKG,WAAW,GAAI,OAElB,EAAAa,MAAQ,EAAKrB,YAAY,GAAI,GAAK,OANrD,6CAQE,WAAI,WACFjI,KAAKoG,KACHpG,KAAKmI,IACLnI,KAAKsJ,MAAMzD,KAAI,SAAA3H,GAAC,OAAIA,EAAEiK,QAGxBnI,KAAKoG,KACHpG,KAAKqI,IACLrI,KAAKsJ,MAAMzD,KAAI,SAAA3H,GAAC,OAAIA,EAAEmK,QAGxBrI,KAAKoG,KACHpG,KAAKsJ,MAAMzD,KAAI,SAAA3H,GAAC,OAAIA,EAAEoK,OACtBtI,KAAKsI,KAGPtI,KAAKoG,KACH,IAAEkB,MAAM,IAAI,kBAAM,EAAK4B,OACvBlJ,KAAKsJ,MAAMzD,KAAI,SAAA3H,GAAC,OAAIA,EAAEgL,YA1B5B,GAA2B,ICFd,GAAb,yG,0BACW,EAAAJ,GAAK,EAAKN,UAAU,GAAI,MACxB,EAAAF,IAAM,EAAKG,WAAW,GAAI,OAClB,EAAAc,KAAO,EAAKtB,YAAY,GAAI,GAAK,OAHpD,6CAKE,WACEjI,KAAKoG,KACHpG,KAAK8I,GACL9I,KAAKuJ,KAAK1D,KAAI,SAAA6C,GAAC,OAAIA,EAAEI,OAGvB9I,KAAKoG,KACHpG,KAAKuJ,KAAK1D,KAAI,SAAA6C,GAAC,OAAIA,EAAEJ,OACrBtI,KAAKsI,SAbX,GAA2B,ICAd,GAAb,yG,0BACmB,EAAAkB,KAAO,EAAKvB,YAAY,GAAI,GAAK,OADpD,6CAGE,WACEjI,KAAKoG,KACHpG,KAAKmI,IACLnI,KAAKwJ,KAAK3D,KAAI,SAAA6C,GAAC,OAAIA,EAAEP,QAGvBnI,KAAKoG,KACHpG,KAAKqI,IACLrI,KAAKwJ,KAAK3D,KAAI,SAAA6C,GAAC,OAAIA,EAAEL,QAGvBrI,KAAKoG,KACHpG,KAAKwJ,KAAK3D,KAAI,SAAA6C,GAAC,OAAIA,EAAEJ,OACrBtI,KAAKsI,SAhBX,GAA2B,ICAd,I,UAAb,yG,0BACmB,EAAAmB,OAAS,EAAKZ,WAAW,GAAM,UAC/B,EAAAa,MAAQ,EAAKb,WAAW,GAAM,SAC9B,EAAAc,MAAQ,EAAKd,WAAW,GAAM,SAC9B,EAAAD,KAAO,EAAKC,WAAW,GAAM,QAJhD,6CAME,WACE7I,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAKyJ,OAAOtB,KAChCnI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAKyJ,OAAOpB,KAEhCrI,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAK0J,MAAMvB,KAC/BnI,KAAKoG,KAAKpG,KAAKyJ,OAAOnB,IAAKtI,KAAK0J,MAAMrB,KAEtCrI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAK2J,MAAMtB,KAC/BrI,KAAKoG,KAAKpG,KAAKyJ,OAAOnB,IAAKtI,KAAK2J,MAAMxB,KAEtCnI,KAAKoG,KAAKpG,KAAK0J,MAAMpB,IAAKtI,KAAK4I,KAAKT,KACpCnI,KAAKoG,KAAKpG,KAAK2J,MAAMrB,IAAKtI,KAAK4I,KAAKP,KAEpCrI,KAAKoG,KAAKpG,KAAK4I,KAAKN,IAAKtI,KAAKsI,SAnBlC,GAAyB,KCCZ,GAAb,yG,0BACW,EAAAH,IAAM,EAAKC,UAAU,OACrB,EAAAC,IAAM,EAAKD,UAAU,OACrB,EAAAwB,OAAS,EAAKrB,WAAW,UACzB,EAAAsB,SAAW,EAAKtB,WAAW,YAEnB,EAAAuB,IAAM,EAAKjB,WAAW,GAAK,OAC3B,EAAAkB,IAAM,EAAKlB,WAAW,GAAK,OAP9C,6CASE,WACE7I,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAK8J,IAAI3B,KAC7BnI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAK8J,IAAIzB,KAC7BrI,KAAKoG,KAAKpG,KAAK8J,IAAIxB,IAAKtI,KAAK6J,UAE7B7J,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAK+J,IAAI5B,KAC7BnI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAK+J,IAAI1B,KAC7BrI,KAAKoG,KAAKpG,KAAK+J,IAAIzB,IAAKtI,KAAK4J,YAhBjC,GAA+B,ICAlB,GAAb,yG,0BACW,EAAAzB,IAAM,EAAKC,UAAU,OACrB,EAAAC,IAAM,EAAKD,UAAU,OACrB,EAAA4B,IAAM,EAAK5B,UAAU,OACrB,EAAAwB,OAAS,EAAKrB,WAAW,UACzB,EAAAsB,SAAW,EAAKtB,WAAW,YAEnB,EAAA0B,WAAa,EAAKpB,WAAW,GAAW,cACxC,EAAAqB,WAAa,EAAKrB,WAAW,GAAW,cACxC,EAAAM,GAAK,EAAKN,WAAW,GAAI,MAT5C,6CAWE,WACE7I,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAKiK,WAAW9B,KACpCnI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAKiK,WAAW5B,KACpCrI,KAAKoG,KAAKpG,KAAKiK,WAAWL,OAAQ5J,KAAKkK,WAAW/B,KAClDnI,KAAKoG,KAAKpG,KAAKgK,IAAKhK,KAAKkK,WAAW7B,KAEpCrI,KAAKoG,KAAKpG,KAAKkK,WAAWN,OAAQ5J,KAAK4J,QAEvC5J,KAAKoG,KAAKpG,KAAKiK,WAAWJ,SAAU7J,KAAKmJ,GAAGhB,KAC5CnI,KAAKoG,KAAKpG,KAAKkK,WAAWL,SAAU7J,KAAKmJ,GAAGd,KAC5CrI,KAAKoG,KAAKpG,KAAKmJ,GAAGb,IAAKtI,KAAK6J,cArBhC,GAA+B,ICAlB,GAAb,yG,0BACmB,EAAAM,WAAa,EAAKlC,YAAY,GAAI,GAAW,aAC7C,EAAAmC,SAAW,EAAKC,aAAa,SAFhD,6CAIE,WACErK,KAAKoG,KAAKpG,KAAKoK,SAAUpK,KAAKmK,WAAW,GAAGH,KAE5ChK,KAAKoG,KACHpG,KAAKmI,IACLnI,KAAKmK,WAAWtE,KAAI,SAAAyE,GAAE,OAAIA,EAAGnC,QAG/BnI,KAAKoG,KACHpG,KAAKqI,IACLrI,KAAKmK,WAAWtE,KAAI,SAAAyE,GAAE,OAAIA,EAAGjC,QAG/BrI,KAAKoG,KACHpG,KAAKmK,WAAWtE,KAAI,SAAAyE,GAAE,OAAIA,EAAGV,UAC7B5J,KAAKsI,KAGPtI,KAAKoG,KACHpG,KAAKmK,WAAWtE,KAAI,SAAAyE,GAAE,OAAIA,EAAGT,YAAUhK,MAAM,EAAG,IAChDG,KAAKmK,WAAWtE,KAAI,SAAAyE,GAAE,OAAIA,EAAGN,OAAKnK,MAAM,QAxB9C,GAA6B,ICDhB,GAAb,yG,0BACW,EAAAiJ,GAAK,EAAKN,UAAU,EAAG,MACvB,EAAAF,IAAM,EAAKC,WAAW,OAEd,EAAAgC,IAAM,EAAKtC,YAAY,EAAG,GAAI,MAJjD,6CAME,WACEjI,KAAKoG,KAAKpG,KAAK8I,GAAGtE,KAAK,GAAIxE,KAAKuK,IAAI,GAAGpC,KACvCnI,KAAKoG,KAAKpG,KAAK8I,GAAGtE,KAAK,GAAIxE,KAAKuK,IAAI,GAAGlC,KAEvCrI,KAAKoG,KACHpG,KAAK8I,GAAGtE,KAAK3E,MAAM,GACnBG,KAAKuK,IAAI1K,MAAM,GAAGgG,KAAI,SAAAtH,GAAC,OAAIA,EAAE8J,QAG/BrI,KAAKoG,KACHpG,KAAKuK,IAAI1K,MAAM,EAAG,GAAGgG,KAAI,SAAAtH,GAAC,OAAIA,EAAE+J,OAChCtI,KAAKuK,IAAI1K,MAAM,GAAGgG,KAAI,SAAAtH,GAAC,OAAIA,EAAE4J,QAG/BnI,KAAKoG,KAAKpG,KAAKuK,IAAI,GAAGjC,IAAKtI,KAAKsI,SApBpC,GAA4B,ICEf,GAAb,yG,0BACW,EAAAQ,GAAK,EAAKN,UAAU,GAAI,MACxB,EAAAF,IAAM,EAAKC,WAAW,OAEd,EAAAiC,OAAS,EAAK3B,WAAW,GAAQ,UACjC,EAAA4B,MAAQ,EAAK5B,WAAW,GAAQ,SAChC,EAAAM,GAAK,EAAKN,WAAW,GAAI,MAN5C,6CAQE,WACE7I,KAAKoG,KACHpG,KAAK8I,GAAGtE,KAAK3E,MAAM,EAAG,GACtBG,KAAKyK,MAAM3B,IAGb9I,KAAKoG,KACHpG,KAAK8I,GAAGtE,KAAK3E,MAAM,GACnBG,KAAKwK,OAAO1B,IAGd9I,KAAKoG,KAAKpG,KAAKyK,MAAMnC,IAAKtI,KAAKmJ,GAAGhB,KAClCnI,KAAKoG,KAAKpG,KAAKwK,OAAOlC,IAAKtI,KAAKmJ,GAAGd,KAEnCrI,KAAKoG,KAAKpG,KAAKmJ,GAAGb,IAAKtI,KAAKsI,SAtBhC,GAA6B,ICKhB,GAAb,yG,0BACW,EAAAH,IAAM,EAAKK,UAAU,GAAI,OACzB,EAAAH,IAAM,EAAKG,UAAU,GAAI,OACzB,EAAAF,IAAM,EAAKG,WAAW,GAAI,OAE1B,EAAAiC,GAAK,EAAKtC,UAAU,MACpB,EAAAuC,GAAK,EAAKvC,UAAU,MACpB,EAAAwC,GAAK,EAAKxC,UAAU,MACpB,EAAAyC,GAAK,EAAKzC,UAAU,MACpB,EAAA0C,EAAI,EAAK1C,UAAU,KACnB,EAAA2C,GAAK,EAAK3C,UAAU,MAEpB,EAAA4C,GAAK,EAAKzC,WAAW,MACrB,EAAA0C,GAAK,EAAK1C,WAAW,MAEb,EAAA2C,SAAW,EAAKrC,WAAW,GAAO,YAClC,EAAAsC,SAAW,EAAKtC,WAAW,GAAO,YAElC,EAAAuC,WAAa,EAAKvC,WAAW,GAAO,cACpC,EAAAwC,WAAa,EAAKxC,WAAW,GAAO,cAEpC,EAAAyC,WAAa,EAAKzC,WAAW,GAAO,cACpC,EAAA0C,WAAa,EAAK1C,WAAW,GAAO,cAEpC,EAAAuB,SAAW,EAAKC,aAAa,YAE7B,EAAAmB,MAAQ,EAAK3C,WAAW,GAAO,SAC/B,EAAA4C,QAAU,EAAK5C,WAAW,GAAS,WAEnC,EAAA6C,UAAY,EAAK7C,WAAW,GAAO,aAEnC,EAAA8C,gBAAkB,EAAK9C,WAAW,GAAO,mBACzC,EAAA+C,gBAAkB,EAAK/C,WAAW,GAAO,mBAEzC,EAAAgD,aAAe,EAAKhD,WAAW,GAAS,gBACxC,EAAAiD,cAAgB,EAAKjD,WAAW,GAAK,iBAnCxD,6CAqCE,WAAI,WACIkD,EAAW,IAAEzE,MAAM,IAAI,kBAAM,EAAK8C,YAExCpK,KAAKoG,KACH2F,EACA/L,KAAKkL,SAAS7C,KAGhBrI,KAAKoG,KACH2F,EACA/L,KAAKmL,SAAS9C,KAGhBrI,KAAKoG,KAAKpG,KAAKmI,IAAKnI,KAAKkL,SAAS/C,KAClCnI,KAAKoG,KAAKpG,KAAKqI,IAAKrI,KAAKmL,SAAShD,KAElCnI,KAAKoG,KAAKpG,KAAK0K,GAAI1K,KAAKkL,SAAShC,KACjClJ,KAAKoG,KAAKpG,KAAK2K,GAAI3K,KAAKmL,SAASjC,KAEjClJ,KAAKoG,KAAKpG,KAAKkL,SAAS5C,IAAKtI,KAAKsL,WAAWnD,KAC7CnI,KAAKoG,KAAKpG,KAAKkL,SAAS5C,IAAKtI,KAAKoL,WAAWtC,IAC7C9I,KAAKoG,KAAKpG,KAAKoL,WAAW9C,IAAKtI,KAAKsL,WAAWjD,KAC/CrI,KAAKoG,KAAKpG,KAAK4K,GAAI5K,KAAKsL,WAAWpC,KAEnClJ,KAAKoG,KAAKpG,KAAKmL,SAAS7C,IAAKtI,KAAKuL,WAAWpD,KAC7CnI,KAAKoG,KAAKpG,KAAKmL,SAAS7C,IAAKtI,KAAKqL,WAAWvC,IAC7C9I,KAAKoG,KAAKpG,KAAKqL,WAAW/C,IAAKtI,KAAKuL,WAAWlD,KAC/CrI,KAAKoG,KAAKpG,KAAK6K,GAAI7K,KAAKuL,WAAWrC,KAEnClJ,KAAKoG,KAAKpG,KAAKsL,WAAWhD,IAAKtI,KAAKyL,QAAQtD,KAC5CnI,KAAKoG,KAAKpG,KAAKuL,WAAWjD,IAAKtI,KAAKyL,QAAQpD,KAE5CrI,KAAKoG,KAAKpG,KAAKsL,WAAWhD,IAAKtI,KAAKwL,MAAMrD,KAC1CnI,KAAKoG,KAAKpG,KAAKuL,WAAWjD,IAAKtI,KAAKwL,MAAMnD,KAE1CrI,KAAKoG,KAAKpG,KAAKwL,MAAMlD,IAAKtI,KAAK0L,UAAUvD,KACzCnI,KAAKoG,KAAKpG,KAAKyL,QAAQnD,IAAKtI,KAAK0L,UAAUrD,KAC3CrI,KAAKoG,KAAKpG,KAAK8K,EAAG9K,KAAK0L,UAAUxC,KAEjClJ,KAAKoG,KAAKpG,KAAK0L,UAAUpD,IAAKtI,KAAK2L,gBAAgB7C,IAEnD9I,KAAKoG,KAAKpG,KAAK0L,UAAUpD,IAAKtI,KAAK4L,gBAAgBzD,KACnDnI,KAAKoG,KAAKpG,KAAK2L,gBAAgBrD,IAAKtI,KAAK4L,gBAAgBvD,KACzDrI,KAAKoG,KAAKpG,KAAK+K,GAAI/K,KAAK4L,gBAAgB1C,KAExClJ,KAAKoG,KAAKpG,KAAK4L,gBAAgBtD,IAAKtI,KAAKsI,KAEzCtI,KAAKoG,KAAKpG,KAAK4L,gBAAgBtD,IAAI9D,KAAK,IAAKxE,KAAKiL,IAElDjL,KAAKoG,KAAKpG,KAAK4L,gBAAgBtD,IAAKtI,KAAK6L,aAAa/C,IACtD9I,KAAKoG,KAAKpG,KAAK6L,aAAavD,IAAKtI,KAAK8L,cAAchD,IACpD9I,KAAKoG,KAAKpG,KAAK8L,cAAcxD,IAAKtI,KAAKgL,QAxF3C,GAAyB,ICkDnB,GAAO,GAAH,sBACL,IAAE,IAAI1D,OAAM,SAAAhI,GAAC,MAAK,CACnBmC,GAAI,OAAF,OAASnC,GACXjB,KAAM,OAAF,OAASiB,GACbwC,OAAc,KAANxC,EAAWQ,EAAOuC,KAAOvC,EAAOsC,SAJlC,eAML,IAAE,IAAIkF,OAAM,SAAAhI,GAAC,MAAK,CACnBmC,GAAI,OAAF,OAASnC,GACXjB,KAAM,OAAF,OAASiB,GACbwC,OAAc,KAANxC,EAAWQ,EAAOuC,KAAOvC,EAAOsC,SATlC,CAWR,CACEX,GAAI,IACJpD,KAAM,IACNyD,OAAQhC,EAAOuC,MAEjB,CACEZ,GAAI,KACJpD,KAAM,KACNyD,OAAQhC,EAAOsC,KAEjB,CACEX,GAAI,KACJpD,KAAM,KACNyD,OAAQhC,EAAOsC,KAEjB,CACEX,GAAI,KACJpD,KAAM,KACNyD,OAAQhC,EAAOsC,KAEjB,CACEX,GAAI,KACJpD,KAAM,KACNyD,OAAQhC,EAAOsC,KAEjB,CACEX,GAAI,KACJpD,KAAM,KACNyD,OAAQhC,EAAOuC,QAIb2J,GAA8C,CAClDxH,KAAM,GAAF,sBACC,IADD,eAEC,IAAE8C,MAAM,IAAI,SAAAhI,GAAC,MAAK,CACnBmC,GAAI,OAAF,OAASnC,GACXjB,KAAM,OAAF,OAASiB,SAIjB2F,QAAS,CACP,CACEE,KAAM,MACN1D,GAAI,QAGR2C,MAAO,GAAF,sBACA,GAAKyB,KAAI,SAAApG,GAAC,MAAK,CAChBwG,MAAOxG,EAAEgC,GACT0E,MAAO,OAAF,OAAS1G,EAAEgC,SAHf,eAKA,IAAE6F,MAAM,IAAI,SAAAhI,GAAC,MAAK,CACnB2G,MAAO,WAAF,OAAa3G,GAClB6G,MAAO,OAAF,OAAS7G,UAiBd,GAAN,oCACE,KAAAjB,KAAO,QACP,KAAA4N,6BAA8B,EAC9B,KAAAC,KAAM,EACN,KAAAC,QAAU,IACV,KAAAC,QAAU,GACV,KAAAC,QAAU,IAGG,UAAIC,OAAO,CACxBjO,KAAM,mBAENpC,KAHwB,WAItB,MAAO,CACLkF,WAAYiG,KAAKmF,UAAUP,GAA0B,KAAM,GAC3D3K,oBAAoB,EACpBG,kBAAmB,IACnBgL,mBAAoB,OAIxBC,QAZwB,WAatB,IAAUC,IAAI,KACd,IAAUA,IAAI,KAEd,IAAMC,EAAO3M,KAAK4M,SAElBD,EAAKE,GAAK,IAAU,CAClBC,UAAW9M,KAAK+M,MAAMC,UACtBC,MAAO,CACL,CACEC,SAAU,OACVD,MAAO,CACLE,MAAO,gBAGX,CACED,SAAU,uBACVD,MAAO,CACL,mBAAoB,YAGxB,CACEC,SAAU,cACVD,MAAO,CACLG,MAAO,oBAGX,CACEF,SAAU,mBACVD,MAAO,CACL,mBAAoB,YAGxB,CACEC,SAAU,kBACVD,MAAO,CACL,mBAAoB,gBAO9BI,QAAS,CACPjM,eADO,W,QAECQ,EAAU5B,KAAK4M,SAAgChL,OAAS,IAAI,EAClEA,EAAO0L,0BAA0B,GAAK,OAEtC,IAAMpG,EAAM,EAAsBlH,KAAKmB,YACvCS,EAAOR,eAAe8F,GAEtB,IAPY,EAON2F,EAAM7M,KAAK4M,SAA2CC,GAEtD/I,EAAqC,GAErCM,EAAQxC,EAAO2L,WAEftI,EAAU,IAAIqB,IAEdkH,EAAS,IAAIvK,IAEbwK,EAAkB,SAAlBA,EAAmB7J,GACvB,QAAU7B,IAAN6B,EACF,OAAO,EAGT,GAAI4J,EAAOrJ,IAAIP,EAAEnC,IACf,OAAO+L,EAAO9O,IAAIkF,EAAEnC,IAGtB,IAAMiM,EAAQD,EAAgB7J,EAAE/B,SAAW+B,aAAa,GAAS,EAAI,GAIrE,OAFA4J,EAAOlJ,IAAIV,EAAEnC,GAAIiM,GAEVA,GAGHC,EAAeC,SAAS5N,KAAKwB,kBAAmB,IAjC1C,iBAmCe4C,GAnCf,IAmCZ,2BAAkC,CAGhC,IAHgC,cAArBH,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,IACZ2J,GAAO,EAEX,MAAgB,CAAC5J,EAAKC,GAAtB,eAA4B,CAAvB,IAAMN,EAAC,KACV,GAAI6J,EAAgB7J,GAAK+J,EAAc,CACrCE,GAAO,EACP,MAGF/J,EAAS/G,KAAK,CACZ+Q,MAAO,QACPC,QAAS,MACT9R,KAAM,CACJwF,GAAImC,EAAEnC,GACN0L,MAAOvJ,EAAEvF,KACT2P,OAAgB,QAAV,EAAEpK,EAAE/B,cAAM,eAAEJ,WAILM,IAAb6B,EAAE/B,QACJoD,EAAQgJ,IAAIrK,EAAE/B,QAIdgM,GAIJ/J,EAAS/G,KAAK,CACZ+Q,MAAO,QACP7R,KAAM,CACJwF,GAAI,GAAF,OAAKwC,EAAIxC,GAAT,cAAiByC,EAAIzC,IACvByM,OAAQjK,EAAIxC,GACZR,OAAQiD,EAAIzC,OApEN,8BAyEZ,IAAM0M,EAAIpK,MAAMwC,KAAKtB,GAErB,MAAOkJ,EAAE1R,OAAS,EAAG,CACnB,IAAM2B,EAAI+P,EAAEC,WAEKrM,IAAb3D,EAAEyD,QAAyBoD,EAAQd,IAAI/F,EAAEyD,UAC3CoD,EAAQgJ,IAAI7P,EAAEyD,QACdsM,EAAEpR,KAAKqB,EAAEyD,SAhFD,uBAoFSoD,GApFT,IAoFZ,2BAA8B,KAAnBpD,EAAmB,QAC5BiC,EAAS/G,KAAK,CACZ+Q,MAAO,QACPC,QAAS,SACT9R,KAAM,CACJwF,GAAII,EAAOJ,GACXuM,OAAqB,QAAf,EAAEnM,EAAOA,cAAM,eAAEJ,GACvB0L,MAAOtL,EAAOxD,SA3FR,8BAgGZwO,EAAGwB,aACHxB,EAAG/I,WAAWwK,SACdzB,EAAGoB,IAAInK,GACP+I,EAAG0B,WAIH1B,EAAG2B,OAAO,IAAI,IAAyBjN,MAEvCvB,KAAKqB,oBAAqB,GAG5BE,IA7GO,WA8GL,IAAMkN,EAAUzO,KAAK4M,SACrB6B,EAAQ7M,OAAOL,KACb,SAACqC,GACC,KAAMA,aAAa,GACjB,OAAO,EAGT,IAAM8K,EAAOD,EAAQ5B,GAAG8B,eAAe/K,EAAEnC,IAEzC,GAAoB,IAAhBiN,EAAK3J,OACP,OAAO,EAGT2J,EAAKE,YAAY,CAAC,cAAe,eAEjC,IAAM9M,EAAS8B,EAAEgB,YAMjB,YAJe7C,IAAXD,GACF4M,EAAKG,SAAS/M,IAAWhC,EAAOsC,IAAM,aAAe,gBAGhD,IAETwL,SAAS5N,KAAKwM,mBAAoB,IAClC,SCpVmY,MCQvY,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCdf,OAAIE,IAAI,QAER,IAAMoC,GAA6B,CACjC,CACEC,KAAM,IACN1Q,KAAM,QACNqC,UAAWsO,GAEb,CACED,KAAM,qBACN1Q,KAAM,mBACNqC,UAAWuO,KAITC,GAAS,IAAI,OAAU,CAC3BJ,YAGa,M,aCrBf,OAAIpC,IAAI,SAEO,WAAI,QAAKyC,MAAM,CAC5BC,MAAO,GAEPC,UAAW,GAEXC,QAAS,GAETtS,QAAS,KCPX,OAAIuS,OAAOC,eAAgB,EAE3B,IAAI,OAAI,CACNN,OAAA,GACAO,SACAC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO,S","file":"js/app.03c072bf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://fufler.github.io/nand-circuit-simulator/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=6fc38f64&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CircuitSimulator.vue?vue&type=style&index=0&id=9bd17bee&scoped=true&lang=scss&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=501f77f0&scoped=true&lang=scss&\"","import { CircuitElement } from '@/libsim/CircuitElement'\nimport { Engine } from '@/libsim/Engine'\nimport { Device, DevicePart } from '@/libsim/Devices'\n\nexport enum Signal {\n    LOW,\n    HIGH\n}\n\nexport class Pin extends CircuitElement implements DevicePart {\n    protected readonly engine: Engine\n    readonly name: string\n    public readonly device?: Device\n    protected signal?: Signal\n\n    constructor (engine: Engine, name: string, device?: Device) {\n      super()\n      this.engine = engine\n      this.device = device\n      this.name = name\n      this.signal = undefined\n    }\n\n    getSignal (): Signal | undefined {\n      return this.engine.getSignalFromLinkedPin(this) ?? this.signal\n    }\n\n    propagate (): boolean {\n      const signalFromLinkedPin = this.engine.getSignalFromLinkedPin(this)\n\n      if (signalFromLinkedPin === undefined) { return true }\n\n      if (this.signal === signalFromLinkedPin) { return false }\n\n      this.signal = signalFromLinkedPin\n\n      if (this.device == null || !this.device.hasCustomLogic) { return true }\n\n      this.engine.propagate(this.device)\n      return false\n    }\n}\n\nexport class FalsePin extends Pin {\n  getSignal (): Signal {\n    return Signal.LOW\n  }\n}\n\nexport class TruePin extends Pin {\n  getSignal (): Signal {\n    return Signal.HIGH\n  }\n}\n\nexport class UpdatablePin extends Pin {\n  setSignal (signal: Signal): void {\n    if (signal === this.signal) { return }\n\n    this.signal = signal\n    this.engine.propagate([this])\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"nav\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"About\")]),_c('router-link',{attrs:{\"to\":\"/circuit-simulator\"}},[_vm._v(\"Circuit simulator\")])],1),_c('div',{staticClass:\"wrapper\"},[_c('router-view')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=501f77f0&scoped=true&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=501f77f0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"501f77f0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_vm._v(\" Project description goes hereâ€¦ \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nexport default {\n  name: 'About'\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=6fc38f64&scoped=true&\"\nimport script from \"./About.vue?vue&type=script&lang=ts&\"\nexport * from \"./About.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&id=6fc38f64&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fc38f64\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"circuit-simulator\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editDefinitionMode),expression:\"editDefinitionMode\"}],staticClass:\"definition\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.definition),expression:\"definition\"}],domProps:{\"value\":(_vm.definition)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.definition=$event.target.value}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.loadDefinition}},[_vm._v(\" Load \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editDefinitionMode),expression:\"!editDefinitionMode\"}],staticClass:\"simulator\"},[_c('div',{ref:\"cytoscape\",staticClass:\"cytoscape-container\"}),_c('div',{staticClass:\"controls\"},[_c('button',{on:{\"click\":_vm.loadDefinition}},[_vm._v(\" Reset \")]),_c('button',{staticClass:\"run\",on:{\"click\":_vm.run}},[_vm._v(\" Run \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphDisplayDepth),expression:\"graphDisplayDepth\"}],attrs:{\"placeholder\":\"Graph display depth\"},domProps:{\"value\":(_vm.graphDisplayDepth)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.graphDisplayDepth=$event.target.value}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { v4 } from 'uuid'\nimport { Engine } from '@/libsim/Engine'\n\nexport abstract class CircuitElement {\n    readonly id = v4()\n    abstract readonly name: string\n    protected abstract engine: Engine\n\n    abstract propagate(): boolean;\n}\n","import { CircuitElement } from '@/libsim/CircuitElement'\nimport { FalsePin, Pin, TruePin } from '@/libsim/Pins'\nimport { Engine } from '@/libsim/Engine'\nimport { Bus, PinBus } from '@/libsim/Buses'\n\nimport _ from 'lodash'\n\nexport interface DevicePart extends CircuitElement {\n  readonly device?: Device\n}\n\nexport enum DevicePinType {\n  INPUT,\n  OUTPUT,\n  INTERNAL\n}\n\nexport type DevicePin = [Pin, DevicePinType]\nexport type DevicePins = Array<DevicePin>\n\nexport type DeviceConstructor<T extends Device> = new (engine: Engine, name: string, device?: Device) => T\n\nexport abstract class Device extends CircuitElement implements DevicePart {\n  protected engine: Engine\n  readonly name: string\n  readonly device?: Device\n\n  abstract getPins (): DevicePins\n  abstract getBuses (): Array<Bus>\n\n  abstract getDevices (): Array<Device>\n\n  abstract init (): void\n\n  abstract readonly hasCustomLogic: boolean\n\n  constructor (engine: Engine, name: string, device?: Device) {\n    super()\n    this.engine = engine\n    this.name = name\n    this.device = device\n  }\n\n  link (src: Pin | Bus | PinBus, dst: Pin | Bus | PinBus): void {\n    this.engine.link(src, dst)\n  }\n\n  abstract propagate (): boolean\n}\n\nexport abstract class CustomLogicDevice extends Device {\n  readonly hasCustomLogic = true\n\n  getDevices (): Array<Device> {\n    return []\n  }\n}\n\nexport abstract class CompoundDevice extends Device {\n  readonly hasCustomLogic = false\n\n  private pins: DevicePins = []\n  private buses: Array<Bus> = []\n  private devices: Array<Device> = []\n\n  private storePin<T extends Pin> (pin: T, type: DevicePinType): T {\n    this.pins.push([pin, type])\n\n    return pin\n  }\n\n  private makePin (name: string, type: DevicePinType): Pin {\n    return this.storePin(\n      new Pin(this.engine, name, this),\n      type\n    )\n  }\n\n  protected makeInPin (name: string): Pin {\n    return this.makePin(name, DevicePinType.INPUT)\n  }\n\n  protected makeOutPin (name: string): Pin {\n    return this.makePin(name, DevicePinType.OUTPUT)\n  }\n\n  private makeBus (length: number, name: string, type: DevicePinType): Bus {\n    const bus = new Bus(length, this.engine, name, this)\n\n    this.buses.push(bus)\n\n    bus.pins.forEach(p => this.storePin(p, type))\n\n    return bus\n  }\n\n  protected makeInBus (length: number, name: string): Bus {\n    return this.makeBus(length, name, DevicePinType.INPUT)\n  }\n\n  protected makeOutBus (length: number, name: string): Bus {\n    return this.makeBus(length, name, DevicePinType.OUTPUT)\n  }\n\n  protected makeDevices<T extends Device> (count: number, ctor: DeviceConstructor<T>, name: string): Array<T> {\n    // eslint-disable-next-line new-cap\n    const devices = _.times(count, n => new ctor(this.engine, `${name}-${n + 1}`, this))\n\n    devices.forEach(d => d.init())\n\n    this.devices.push(...devices)\n\n    return devices\n  }\n\n  protected makeDevice<T extends Device> (ctor: DeviceConstructor<T>, name: string): T {\n    return this.makeDevices(1, ctor, name)[0]\n  }\n\n  protected makeFalsePin (name: string): FalsePin {\n    return this.storePin(\n      new FalsePin(this.engine, name, this),\n      DevicePinType.INTERNAL\n    )\n  }\n\n  protected makeTruePin (name: string): TruePin {\n    return this.storePin(\n      new TruePin(this.engine, name, this),\n      DevicePinType.INTERNAL\n    )\n  }\n\n  getPins (): DevicePins {\n    return this.pins\n  }\n\n  getBuses (): Array<Bus> {\n    return this.buses\n  }\n\n  getDevices (): Array<Device> {\n    return this.devices\n  }\n\n  propagate (): boolean {\n    return false\n  }\n}\n\nexport abstract class Compound2In1OutDevice extends CompoundDevice {\n  readonly inA = this.makeInPin('inA')\n  readonly inB = this.makeInPin('inB')\n  readonly out = this.makeOutPin('out')\n}\n\nexport abstract class Compound2In1OutDevice16 extends CompoundDevice {\n  readonly inA = this.makeInBus(16, 'inA')\n  readonly inB = this.makeInBus(16, 'inB')\n  readonly out = this.makeOutBus(16, 'out')\n}\n","import { CircuitElement } from '@/libsim/CircuitElement'\nimport { Pin, Signal, UpdatablePin } from '@/libsim/Pins'\nimport { Device } from '@/libsim/Devices'\nimport { CircuitDefinition, validateDefinition } from '@/libsim/CircuitDefinition'\nimport { Bus, PinBus } from '@/libsim/Buses'\n\ntype ExceptionConstructor = new(msg: string) => Error\nconst throwError = (constr: ExceptionConstructor, msg: string): never => {\n  // eslint-disable-next-line new-cap\n  throw new constr(msg)\n}\n\nexport class LinkError extends Error {\n}\n\nexport class ConfigurationError extends Error {\n}\n\nexport class InvalidArgumentError extends Error {\n}\n\nexport class Link {\n  readonly src: Pin\n  readonly dst: Pin\n\n  constructor (src: Pin, dst: Pin) {\n    this.src = src\n    this.dst = dst\n  }\n}\n\nconst sleep = (interval: number) => new Promise(resolve => setTimeout(resolve, interval))\n\nexport class Engine {\n  private queue: Array<CircuitElement> = []\n  private pinsLinks: Map<Pin, Array<Pin>> = new Map()\n  private pinsLinksInverted: Map<Pin, Pin> = new Map()\n\n  private devicesConstructors: Map<string, DeviceConstructor> = new Map()\n\n  async run (callback?: ((e: CircuitElement) => boolean), sleepInterval?: number, executionLimit = 100): Promise<boolean> {\n    let iterationCounter = 0\n    const startTime = Date.now()\n\n    const shouldContinue = () => {\n      if (++iterationCounter % 1000 !== 0) {\n        return true\n      }\n\n      return Date.now() - startTime <= executionLimit\n    }\n\n    while (this.queue.length > 0 && shouldContinue()) {\n      const [e] = this.queue.splice(0, 1)\n\n      if (e.propagate() && e instanceof Pin) {\n        this.queue.push(...(this.pinsLinks.get(e) ?? []))\n      }\n\n      let doSleep = true\n\n      if (callback !== undefined) {\n        doSleep = doSleep && callback(e)\n      }\n\n      if (sleepInterval !== undefined && doSleep) {\n        await sleep(sleepInterval)\n      }\n    }\n\n    return this.queue.length === 0\n  }\n\n  propagate (elements: Array<CircuitElement> | CircuitElement): void {\n    this.queue.push(...(Array.isArray(elements) ? elements : [elements]))\n  }\n\n  private linkPins (src: Pin, dst: Pin): void {\n    if (src === dst) {\n      throw new LinkError('Self links are not allowed')\n    }\n\n    if (this.pinsLinksInverted.has(dst)) {\n      throw new LinkError(`There is a link already defined with dst ${dst.name}`)\n    }\n\n    const links = this.pinsLinks.get(src) ?? []\n\n    if (links.indexOf(dst) !== -1) {\n      throw new LinkError(`There is a link already defined between ${src.name} and ${dst.name}`)\n    }\n\n    links.push(dst)\n\n    this.pinsLinksInverted.set(dst, src)\n    this.pinsLinks.set(src, links)\n  }\n\n  link (src: Pin | Bus | PinBus, dst: Pin | Bus | PinBus): void {\n    const _src = src instanceof Pin ? [src] : Array.isArray(src) ? src : src.pins\n    const _dst = dst instanceof Pin ? [dst] : Array.isArray(dst) ? dst : dst.pins\n\n    if (_src.length !== _dst.length) {\n      throw new LinkError(`Cannot link buses of different length: ${_src.length} and ${_dst.length}`)\n    }\n\n    for (let i = 0; i < _src.length; i++) {\n      this.linkPins(_src[i], _dst[i])\n    }\n  }\n\n  getSignalFromLinkedPin (pin: Pin): Signal | undefined {\n    return this.pinsLinksInverted.get(pin)?.getSignal()\n  }\n\n  registerDeviceConstructor (deviceConstructor: DeviceConstructor, name: string): void {\n    if (this.devicesConstructors.has(name)) {\n      throw new ConfigurationError(`Duplicate device constructor name ${name} specified`)\n    }\n\n    this.devicesConstructors.set(name, deviceConstructor)\n  }\n\n  loadDefinition (definition: CircuitDefinition): void {\n    validateDefinition(definition)\n\n    const pins = new Map<string, Pin>()\n\n    for (const pinDef of definition.pins) {\n      const pin = new UpdatablePin(this, pinDef.name ?? `pin-${pins.size}`)\n      if (pinDef.signal !== undefined) {\n        pin.setSignal(pinDef.signal)\n      }\n\n      if (pins.has(pinDef.id)) {\n        throw new Error(`Multiple pins with same id ${pinDef.id} found`)\n      }\n\n      pins.set(pinDef.id, pin)\n    }\n\n    const devices = new Map<string, Device>()\n\n    for (const deviceDef of definition.devices) {\n      const deviceConstructor = this.devicesConstructors.get(deviceDef.type) ?? throwError(InvalidArgumentError, `Unknown device type specified ${deviceDef.type}`)\n\n      // eslint-disable-next-line new-cap\n      const device = new deviceConstructor(this, deviceDef.name ?? deviceDef.type)\n\n      device.init()\n\n      if (devices.has(deviceDef.id)) {\n        throw new Error(`Duplicate device id ${deviceDef.id} specified`)\n      }\n\n      devices.set(deviceDef.id, device)\n    }\n\n    const resolvePin = (pinId: string): Pin => {\n      const dotIndex = pinId.indexOf('.')\n\n      if (dotIndex === -1) {\n        return pins.get(pinId) ?? throwError(InvalidArgumentError, `Ping with specified id ${pinId} not found`)\n      }\n\n      const deviceId = pinId.substring(0, dotIndex)\n\n      const device = devices.get(deviceId) ?? throwError(InvalidArgumentError, `Device with specified id ${deviceId} not found`)\n\n      const devicePins = device.getPins()\n      const pinName = pinId.substring(dotIndex + 1)\n\n      return devicePins.map(p => p[0]).find(p => p.name === pinName) ?? throwError(InvalidArgumentError, `Pin with name ${pinName} not found in device ${deviceId}`)\n    }\n\n    for (const linkDef of definition.links) {\n      const srcPin = resolvePin(linkDef.srcId)\n      const dstPin = resolvePin(linkDef.dstId)\n\n      this.link(srcPin, dstPin)\n    }\n  }\n\n  getPins (): Array<Pin> {\n    const allPins = new Set([\n      ...Array.from(this.pinsLinks.keys()),\n      ...Array.from(this.pinsLinksInverted.keys())\n    ])\n\n    return Array.from(allPins)\n  }\n\n  getLinks (): Array<Link> {\n    return Array.from(this.pinsLinksInverted.entries()).map(([dst, src]) => ({\n      src,\n      dst\n    }))\n  }\n}\n\ntype DeviceConstructor = new(engine: Engine, name: string, device?: Device) => Device\n","import { Signal } from '@/libsim/Pins'\nimport { z } from 'zod'\nimport { InvalidArgumentError } from '@/libsim/Engine'\n\nexport interface DeviceDefinition {\n  type: string,\n  name?: string\n  id: string\n}\n\nexport interface PinDefinition {\n  id: string\n  name?: string\n  signal?: Signal\n}\n\nexport interface LinkDefinition {\n  srcId: string\n  dstId: string\n}\n\nexport interface CircuitDefinition {\n  devices: Array<DeviceDefinition>\n  pins: Array<PinDefinition>\n\n  links: Array<LinkDefinition>\n}\n\nconst CircuitDefinitionParseSchema = z.object({\n  devices: z.array(\n    z.object({\n      type: z.string().nonempty(),\n      name: z.string().optional(),\n      id: z.string().nonempty()\n    })\n  ).nonempty(),\n\n  pins: z.array(\n    z.object({\n      id: z.string().nonempty(),\n      name: z.string().optional(),\n      signal: z.number().lte(Signal.HIGH).gte(Signal.LOW).optional()\n    })\n  ).nonempty(),\n\n  links: z.array(\n    z.object({\n      srcId: z.string().nonempty(),\n      dstId: z.string().nonempty()\n    })\n  ).nonempty()\n})\n\nexport const validateDefinition = (def: unknown): void => {\n  try {\n    CircuitDefinitionParseSchema.parse(def)\n  } catch (e) {\n    throw new InvalidArgumentError('Invalid circuit definition')\n  }\n}\n\nexport const parseDefinitionString = (def: string): CircuitDefinition => {\n  try {\n    return CircuitDefinitionParseSchema.parse(JSON.parse(def))\n  } catch {\n    throw new InvalidArgumentError('String is not valid circuit definition')\n  }\n}\n","import { Pin } from '@/libsim/Pins'\nimport { Engine } from '@/libsim/Engine'\nimport { Device } from '@/libsim/Devices'\n\nimport { v4 } from 'uuid'\n\nimport _ from 'lodash'\n\nexport type PinBus = Array<Pin>\n\nexport class Bus {\n  readonly pins: PinBus\n\n  readonly name: string\n\n  constructor (length: number, engine: Engine, name?: string, device?: Device) {\n    const busName = name ?? `bus-${v4()}`\n    this.name = busName\n\n    this.pins = _.times(length, n => new Pin(engine, `${busName}-${n}`, device))\n  }\n}\n","import { Engine } from '@/libsim/Engine'\nimport { Pin, Signal, UpdatablePin } from '@/libsim/Pins'\nimport { CustomLogicDevice, Device, DevicePins, DevicePinType } from '@/libsim/Devices'\nimport { Bus } from '@/libsim/Buses'\n\nexport class Nand extends CustomLogicDevice {\n  readonly inA: Pin\n  readonly inB: Pin\n  readonly out: UpdatablePin\n\n  constructor (engine: Engine, name: string, device?: Device) {\n    super(engine, name, device)\n\n    this.inA = new Pin(engine, 'inA', this)\n    this.inB = new Pin(engine, 'inB', this)\n    this.out = new UpdatablePin(engine, 'out', this)\n  }\n\n  propagate (): boolean {\n    const a = this.inA.getSignal()\n    const b = this.inB.getSignal()\n\n    this.out.setSignal(a === Signal.LOW || b === Signal.LOW || a !== b ? Signal.HIGH : Signal.LOW)\n\n    return false\n  }\n\n  getPins (): DevicePins {\n    return [\n      [this.inA, DevicePinType.INPUT],\n      [this.inB, DevicePinType.INPUT],\n      [this.out, DevicePinType.OUTPUT]\n    ]\n  }\n\n  getBuses (): Array<Bus> {\n    return []\n  }\n\n  init (): void {\n    //\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Nand } from '@/libsim/elements/logic/Nand'\n\nexport class Not extends CompoundDevice {\n  private readonly nand = this.makeDevice(Nand, 'nand')\n  readonly in = this.makeInPin('in')\n  readonly out = this.makeOutPin('out')\n\n  init (): void {\n    this.link(this.in, this.nand.inA)\n    this.link(this.in, this.nand.inB)\n    this.link(this.nand.out, this.out)\n  }\n}\n","import { Compound2In1OutDevice } from '@/libsim/Devices'\nimport { Nand } from '@/libsim/elements/logic/Nand'\nimport { Not } from '@/libsim/elements/logic/Not'\n\nexport class Or extends Compound2In1OutDevice {\n  private readonly nand = this.makeDevice(Nand, 'nand')\n  private readonly notA = this.makeDevice(Not, 'notA')\n  private readonly notB = this.makeDevice(Not, 'notB')\n\n  init (): void {\n    this.link(this.inA, this.notA.in)\n    this.link(this.inB, this.notB.in)\n\n    this.link(this.notA.out, this.nand.inA)\n    this.link(this.notB.out, this.nand.inB)\n\n    this.link(this.nand.out, this.out)\n  }\n}\n","import { Compound2In1OutDevice } from '@/libsim/Devices'\nimport { Nand } from '@/libsim/elements/logic/Nand'\nimport { Not } from '@/libsim/elements/logic/Not'\n\nexport class And extends Compound2In1OutDevice {\n  private readonly nand = this.makeDevice(Nand, 'nand')\n  private readonly not = this.makeDevice(Not, 'not')\n\n  init (): void {\n    this.link(this.inA, this.nand.inA)\n    this.link(this.inB, this.nand.inB)\n    this.link(this.nand.out, this.not.in)\n    this.link(this.not.out, this.out)\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Or } from '@/libsim/elements/logic/Or'\nimport { And } from '@/libsim/elements/logic/And'\nimport { Not } from '@/libsim/elements/logic/Not'\n\nexport class Mux extends CompoundDevice {\n  readonly inA = this.makeInPin('inA')\n  readonly inB = this.makeInPin('inB')\n  readonly sel = this.makeInPin('sel')\n  readonly out = this.makeOutPin('out')\n\n  private readonly or = this.makeDevice(Or, 'or')\n  private readonly not = this.makeDevice(Not, 'not')\n  private readonly andA = this.makeDevice(And, 'andA')\n  private readonly andB = this.makeDevice(And, 'andB')\n\n  init (): void {\n    this.link(this.sel, this.not.in)\n\n    this.link(this.inA, this.andA.inA)\n    this.link(this.not.out, this.andA.inB)\n\n    this.link(this.inB, this.andB.inB)\n    this.link(this.sel, this.andB.inA)\n\n    this.link(this.andA.out, this.or.inA)\n    this.link(this.andB.out, this.or.inB)\n    this.link(this.or.out, this.out)\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Mux } from '@/libsim/elements/selectors/Mux'\n\nimport _ from 'lodash'\n\nexport class Mux16 extends CompoundDevice {\n  readonly inA = this.makeInBus(16, 'inA')\n  readonly inB = this.makeInBus(16, 'inB')\n  readonly sel = this.makeInPin('sel')\n  readonly out = this.makeOutBus(16, 'out')\n\n  private readonly muxes = this.makeDevices(16, Mux, 'mux')\n\n  init (): void {\n    this.link(\n      this.inA,\n      this.muxes.map(m => m.inA)\n    )\n\n    this.link(\n      this.inB,\n      this.muxes.map(m => m.inB)\n    )\n\n    this.link(\n      this.muxes.map(m => m.out),\n      this.out\n    )\n\n    this.link(\n      _.times(16, () => this.sel),\n      this.muxes.map(m => m.sel)\n    )\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Not } from '@/libsim/elements/logic/Not'\n\nexport class Not16 extends CompoundDevice {\n  readonly in = this.makeInBus(16, 'in')\n  readonly out = this.makeOutBus(16, 'out')\n  private readonly nots = this.makeDevices(16, Not, 'not')\n\n  init (): void {\n    this.link(\n      this.in,\n      this.nots.map(a => a.in)\n    )\n\n    this.link(\n      this.nots.map(a => a.out),\n      this.out\n    )\n  }\n}\n","import { Compound2In1OutDevice16 } from '@/libsim/Devices'\nimport { And } from '@/libsim/elements/logic/And'\n\nexport class And16 extends Compound2In1OutDevice16 {\n  private readonly ands = this.makeDevices(16, And, 'and')\n\n  init (): void {\n    this.link(\n      this.inA,\n      this.ands.map(a => a.inA)\n    )\n\n    this.link(\n      this.inB,\n      this.ands.map(a => a.inB)\n    )\n\n    this.link(\n      this.ands.map(a => a.out),\n      this.out\n    )\n  }\n}\n","import { Compound2In1OutDevice } from '@/libsim/Devices'\nimport { Nand } from '@/libsim/elements/logic/Nand'\n\nexport class Xor extends Compound2In1OutDevice {\n  private readonly nandAB = this.makeDevice(Nand, 'nandAB')\n  private readonly nandA = this.makeDevice(Nand, 'nandA')\n  private readonly nandB = this.makeDevice(Nand, 'nandB')\n  private readonly nand = this.makeDevice(Nand, 'nand')\n\n  init (): void {\n    this.link(this.inA, this.nandAB.inA)\n    this.link(this.inB, this.nandAB.inB)\n\n    this.link(this.inA, this.nandA.inA)\n    this.link(this.nandAB.out, this.nandA.inB)\n\n    this.link(this.inB, this.nandB.inB)\n    this.link(this.nandAB.out, this.nandB.inA)\n\n    this.link(this.nandA.out, this.nand.inA)\n    this.link(this.nandB.out, this.nand.inB)\n\n    this.link(this.nand.out, this.out)\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Xor } from '@/libsim/elements/logic/Xor'\nimport { And } from '@/libsim/elements/logic/And'\n\nexport class HalfAdder extends CompoundDevice {\n  readonly inA = this.makeInPin('inA')\n  readonly inB = this.makeInPin('inB')\n  readonly outSum = this.makeOutPin('outSum')\n  readonly outCarry = this.makeOutPin('outCarry')\n\n  private readonly and = this.makeDevice(And, 'and')\n  private readonly xor = this.makeDevice(Xor, 'xor')\n\n  init (): void {\n    this.link(this.inA, this.and.inA)\n    this.link(this.inB, this.and.inB)\n    this.link(this.and.out, this.outCarry)\n\n    this.link(this.inA, this.xor.inA)\n    this.link(this.inB, this.xor.inB)\n    this.link(this.xor.out, this.outSum)\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { HalfAdder } from '@/libsim/elements/arithmetic/HalfAdder'\nimport { Or } from '@/libsim/elements/logic/Or'\n\nexport class FullAdder extends CompoundDevice {\n  readonly inA = this.makeInPin('inA')\n  readonly inB = this.makeInPin('inB')\n  readonly inC = this.makeInPin('inC')\n  readonly outSum = this.makeOutPin('outSum')\n  readonly outCarry = this.makeOutPin('outCarry')\n\n  private readonly halfAdder1 = this.makeDevice(HalfAdder, 'halfAdder1')\n  private readonly halfAdder2 = this.makeDevice(HalfAdder, 'halfAdder2')\n  private readonly or = this.makeDevice(Or, 'or')\n\n  init (): void {\n    this.link(this.inA, this.halfAdder1.inA)\n    this.link(this.inB, this.halfAdder1.inB)\n    this.link(this.halfAdder1.outSum, this.halfAdder2.inA)\n    this.link(this.inC, this.halfAdder2.inB)\n\n    this.link(this.halfAdder2.outSum, this.outSum)\n\n    this.link(this.halfAdder1.outCarry, this.or.inA)\n    this.link(this.halfAdder2.outCarry, this.or.inB)\n    this.link(this.or.out, this.outCarry)\n  }\n}\n","import { Compound2In1OutDevice16 } from '@/libsim/Devices'\n\nimport { FullAdder } from '@/libsim/elements/arithmetic/FullAdder'\n\nexport class Adder16 extends Compound2In1OutDevice16 {\n  private readonly fullAdders = this.makeDevices(16, FullAdder, 'fullAdder')\n  private readonly falsePin = this.makeFalsePin('false')\n\n  init (): void {\n    this.link(this.falsePin, this.fullAdders[0].inC)\n\n    this.link(\n      this.inA,\n      this.fullAdders.map(fa => fa.inA)\n    )\n\n    this.link(\n      this.inB,\n      this.fullAdders.map(fa => fa.inB)\n    )\n\n    this.link(\n      this.fullAdders.map(fa => fa.outSum),\n      this.out\n    )\n\n    this.link(\n      this.fullAdders.map(fa => fa.outCarry).slice(0, 15),\n      this.fullAdders.map(fa => fa.inC).slice(1)\n    )\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Or } from '@/libsim/elements/logic/Or'\n\nexport class Or8Way extends CompoundDevice {\n  readonly in = this.makeInBus(8, 'in')\n  readonly out = this.makeOutPin('out')\n\n  private readonly ors = this.makeDevices(7, Or, 'or')\n\n  init (): void {\n    this.link(this.in.pins[0], this.ors[0].inA)\n    this.link(this.in.pins[1], this.ors[0].inB)\n\n    this.link(\n      this.in.pins.slice(2),\n      this.ors.slice(1).map(o => o.inB)\n    )\n\n    this.link(\n      this.ors.slice(0, 6).map(o => o.out),\n      this.ors.slice(1).map(o => o.inA)\n    )\n\n    this.link(this.ors[6].out, this.out)\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Or } from '@/libsim/elements/logic/Or'\n\nimport { Or8Way } from '@/libsim/elements/logic/Or8Way'\n\nexport class Or16Way extends CompoundDevice {\n  readonly in = this.makeInBus(16, 'in')\n  readonly out = this.makeOutPin('out')\n\n  private readonly orHigh = this.makeDevice(Or8Way, 'orHigh')\n  private readonly orLow = this.makeDevice(Or8Way, 'orLow')\n  private readonly or = this.makeDevice(Or, 'or')\n\n  init (): void {\n    this.link(\n      this.in.pins.slice(0, 8),\n      this.orLow.in\n    )\n\n    this.link(\n      this.in.pins.slice(8),\n      this.orHigh.in\n    )\n\n    this.link(this.orLow.out, this.or.inA)\n    this.link(this.orHigh.out, this.or.inB)\n\n    this.link(this.or.out, this.out)\n  }\n}\n","import { CompoundDevice } from '@/libsim/Devices'\nimport { Mux16 } from '@/libsim/elements/selectors/Mux16'\nimport { Not16 } from '@/libsim/elements/logic/Not16'\nimport { And16 } from '@/libsim/elements/logic/And16'\nimport { Adder16 } from '@/libsim/elements/arithmetic/Adder16'\nimport { Or16Way } from '@/libsim/elements/logic/Or16Way'\nimport { Not } from '@/libsim/elements/logic/Not'\n\nimport _ from 'lodash'\n\nexport class ALU extends CompoundDevice {\n  readonly inA = this.makeInBus(16, 'inA')\n  readonly inB = this.makeInBus(16, 'inB')\n  readonly out = this.makeOutBus(16, 'out')\n\n  readonly zx = this.makeInPin('zx')\n  readonly zy = this.makeInPin('zy')\n  readonly nx = this.makeInPin('nx')\n  readonly ny = this.makeInPin('ny')\n  readonly f = this.makeInPin('f')\n  readonly no = this.makeInPin('no')\n\n  readonly zr = this.makeOutPin('zr')\n  readonly ng = this.makeOutPin('ng')\n\n  private readonly zeroXMux = this.makeDevice(Mux16, 'zeroXMux')\n  private readonly zeroYMux = this.makeDevice(Mux16, 'zeroYMux')\n\n  private readonly invertXNot = this.makeDevice(Not16, 'invertXNot')\n  private readonly invertYNot = this.makeDevice(Not16, 'invertYNot')\n\n  private readonly invertXMux = this.makeDevice(Mux16, 'invertXMux')\n  private readonly invertYMux = this.makeDevice(Mux16, 'invertYMux')\n\n  private readonly falsePin = this.makeFalsePin('falsePin')\n\n  private readonly and16 = this.makeDevice(And16, 'and16')\n  private readonly adder16 = this.makeDevice(Adder16, 'adder16')\n\n  private readonly resultMux = this.makeDevice(Mux16, 'resultMux')\n\n  private readonly resultInvertNot = this.makeDevice(Not16, 'resultInvertNot')\n  private readonly resultInvertMux = this.makeDevice(Mux16, 'resultInvertMux')\n\n  private readonly resultZeroOr = this.makeDevice(Or16Way, 'resultZeroOr')\n  private readonly resultZeroNot = this.makeDevice(Not, 'resultZeroNot')\n\n  init (): void {\n    const falseBus = _.times(16, () => this.falsePin)\n\n    this.link(\n      falseBus,\n      this.zeroXMux.inB\n    )\n\n    this.link(\n      falseBus,\n      this.zeroYMux.inB\n    )\n\n    this.link(this.inA, this.zeroXMux.inA)\n    this.link(this.inB, this.zeroYMux.inA)\n\n    this.link(this.zx, this.zeroXMux.sel)\n    this.link(this.zy, this.zeroYMux.sel)\n\n    this.link(this.zeroXMux.out, this.invertXMux.inA)\n    this.link(this.zeroXMux.out, this.invertXNot.in)\n    this.link(this.invertXNot.out, this.invertXMux.inB)\n    this.link(this.nx, this.invertXMux.sel)\n\n    this.link(this.zeroYMux.out, this.invertYMux.inA)\n    this.link(this.zeroYMux.out, this.invertYNot.in)\n    this.link(this.invertYNot.out, this.invertYMux.inB)\n    this.link(this.ny, this.invertYMux.sel)\n\n    this.link(this.invertXMux.out, this.adder16.inA)\n    this.link(this.invertYMux.out, this.adder16.inB)\n\n    this.link(this.invertXMux.out, this.and16.inA)\n    this.link(this.invertYMux.out, this.and16.inB)\n\n    this.link(this.and16.out, this.resultMux.inA)\n    this.link(this.adder16.out, this.resultMux.inB)\n    this.link(this.f, this.resultMux.sel)\n\n    this.link(this.resultMux.out, this.resultInvertNot.in)\n\n    this.link(this.resultMux.out, this.resultInvertMux.inA)\n    this.link(this.resultInvertNot.out, this.resultInvertMux.inB)\n    this.link(this.no, this.resultInvertMux.sel)\n\n    this.link(this.resultInvertMux.out, this.out)\n\n    this.link(this.resultInvertMux.out.pins[15], this.ng)\n\n    this.link(this.resultInvertMux.out, this.resultZeroOr.in)\n    this.link(this.resultZeroOr.out, this.resultZeroNot.in)\n    this.link(this.resultZeroNot.out, this.zr)\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\nimport { CircuitDefinition, parseDefinitionString } from '@/libsim/CircuitDefinition'\n\nimport cytoscape, { BaseLayoutOptions, ElementDefinition } from 'cytoscape'\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport coseBilkent from 'cytoscape-cose-bilkent'\nimport cytoscapeDagre from 'cytoscape-dagre'\nimport { Engine } from '@/libsim/Engine'\nimport { Device, DevicePart } from '@/libsim/Devices'\nimport { CircuitElement } from '@/libsim/CircuitElement'\nimport { Pin, Signal } from '@/libsim/Pins'\n\nimport _ from 'lodash'\nimport { ALU } from '@/libsim/elements/arithmetic/ALU'\n\nconst pins = [\n  ..._(16).times(n => ({\n    id: `inA-${n}`,\n    name: `inA-${n}`,\n    signal: n === 15 ? Signal.HIGH : Signal.LOW\n  })),\n  ..._(16).times(n => ({\n    id: `inB-${n}`,\n    name: `inB-${n}`,\n    signal: n === 10 ? Signal.HIGH : Signal.LOW\n  })),\n  {\n    id: 'f',\n    name: 'f',\n    signal: Signal.HIGH\n  },\n  {\n    id: 'zx',\n    name: 'zx',\n    signal: Signal.LOW\n  },\n  {\n    id: 'nx',\n    name: 'nx',\n    signal: Signal.LOW\n  },\n  {\n    id: 'zy',\n    name: 'zy',\n    signal: Signal.LOW\n  },\n  {\n    id: 'ny',\n    name: 'ny',\n    signal: Signal.LOW\n  },\n  {\n    id: 'no',\n    name: 'no',\n    signal: Signal.HIGH\n  }\n]\n\nconst defaultCircuitDefinition: CircuitDefinition = {\n  pins: [\n    ...pins,\n    ..._.times(16, n => ({\n      id: `dst-${n}`,\n      name: `dst-${n}`\n    }))\n  ],\n\n  devices: [\n    {\n      type: 'ALU',\n      id: 'alu'\n    }\n  ],\n  links: [\n    ...pins.map(p => ({\n      srcId: p.id,\n      dstId: `alu.${p.id}`\n    })),\n    ..._.times(16, n => ({\n      srcId: `alu.out-${n}`,\n      dstId: `dst-${n}`\n    }))\n  ]\n}\n\ninterface CircuitSimulatorData {\n  definition: string\n  editDefinitionMode: boolean,\n  graphDisplayDepth: string,\n  simulationInterval: string\n}\n\ninterface CustomThis$Options {\n  cy: cytoscape.Core,\n  engine: Engine\n}\n\nclass CustomCyLayoutOptions implements BaseLayoutOptions {\n  name = 'dagre'\n  nodeDimensionsIncludeLabels = true\n  fit = false\n  rankSep = 200\n  nodeSep = 50\n  edgeSep = 50\n}\n\nexport default Vue.extend({\n  name: 'CircuitSimulator',\n\n  data (): CircuitSimulatorData {\n    return {\n      definition: JSON.stringify(defaultCircuitDefinition, null, 2),\n      editDefinitionMode: true,\n      graphDisplayDepth: '1',\n      simulationInterval: '10'\n    }\n  },\n\n  mounted (): void {\n    cytoscape.use(coseBilkent)\n    cytoscape.use(cytoscapeDagre)\n\n    const opts = this.$options as unknown as CustomThis$Options\n\n    opts.cy = cytoscape({\n      container: this.$refs.cytoscape as HTMLElement,\n      style: [\n        {\n          selector: 'node',\n          style: {\n            label: 'data(label)'\n          }\n        },\n        {\n          selector: 'node.device:selected',\n          style: {\n            'background-color': '#f5e663' // --color3\n          }\n        },\n        {\n          selector: 'node.device',\n          style: {\n            shape: 'round-rectangle'\n          }\n        },\n        {\n          selector: 'node.high-signal',\n          style: {\n            'background-color': '#73a580' // --color5\n          }\n        },\n        {\n          selector: 'node.low-signal',\n          style: {\n            'background-color': '#bc4b51' // --color4\n          }\n        }\n      ]\n    })\n  },\n\n  methods: {\n    loadDefinition (): void {\n      const engine = (this.$options as CustomThis$Options).engine = new Engine()\n      engine.registerDeviceConstructor(ALU, 'ALU')\n\n      const def = parseDefinitionString(this.definition)\n      engine.loadDefinition(def)\n\n      const cy = (this.$options as unknown as CustomThis$Options).cy as cytoscape.Core\n\n      const elements: Array<ElementDefinition> = []\n\n      const links = engine.getLinks()\n\n      const devices = new Set<Device>()\n\n      const depths = new Map<string, number>()\n\n      const getElementDepth = (e?: DevicePart): number => {\n        if (e === undefined) {\n          return 0\n        }\n\n        if (depths.has(e.id)) {\n          return depths.get(e.id) as number\n        }\n\n        const depth = getElementDepth(e.device) + (e instanceof Device ? 1 : 0)\n\n        depths.set(e.id, depth)\n\n        return depth\n      }\n\n      const allowedDepth = parseInt(this.graphDisplayDepth, 10)\n\n      for (const { src, dst } of links) {\n        let skip = false\n\n        for (const e of [src, dst]) {\n          if (getElementDepth(e) > allowedDepth) {\n            skip = true\n            break\n          }\n\n          elements.push({\n            group: 'nodes',\n            classes: 'pin',\n            data: {\n              id: e.id,\n              label: e.name,\n              parent: e.device?.id\n            }\n          })\n\n          if (e.device !== undefined) {\n            devices.add(e.device)\n          }\n        }\n\n        if (skip) {\n          continue\n        }\n\n        elements.push({\n          group: 'edges',\n          data: {\n            id: `${src.id} - ${dst.id}`,\n            source: src.id,\n            target: dst.id\n          }\n        })\n      }\n\n      const q = Array.from(devices)\n\n      while (q.length > 0) {\n        const d = q.pop() as Device\n\n        if (d.device !== undefined && !devices.has(d.device)) {\n          devices.add(d.device)\n          q.push(d.device)\n        }\n      }\n\n      for (const device of devices) {\n        elements.push({\n          group: 'nodes',\n          classes: 'device',\n          data: {\n            id: device.id,\n            parent: device.device?.id,\n            label: device.name\n          }\n        })\n      }\n\n      cy.startBatch()\n      cy.elements().remove()\n      cy.add(elements)\n      cy.endBatch()\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      cy.layout(new CustomCyLayoutOptions()).run()\n\n      this.editDefinitionMode = false\n    },\n\n    run (): void {\n      const options = this.$options as CustomThis$Options\n      options.engine.run(\n        (e: CircuitElement) => {\n          if (!(e instanceof Pin)) {\n            return false\n          }\n\n          const cyEl = options.cy.getElementById(e.id)\n\n          if (cyEl.size() === 0) {\n            return false\n          }\n\n          cyEl.removeClass(['high-signal', 'low-signal'])\n\n          const signal = e.getSignal()\n\n          if (signal !== undefined) {\n            cyEl.addClass(signal === Signal.LOW ? 'low-signal' : 'high-signal')\n          }\n\n          return true\n        },\n        parseInt(this.simulationInterval, 10),\n        100000\n      )\n    }\n  }\n})\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CircuitSimulator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CircuitSimulator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CircuitSimulator.vue?vue&type=template&id=9bd17bee&scoped=true&\"\nimport script from \"./CircuitSimulator.vue?vue&type=script&lang=ts&\"\nexport * from \"./CircuitSimulator.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CircuitSimulator.vue?vue&type=style&index=0&id=9bd17bee&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9bd17bee\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter, { RouteConfig } from 'vue-router'\nimport About from '@/views/About.vue'\nimport CircuitSimulator from '@/views/CircuitSimulator.vue'\n\nVue.use(VueRouter)\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    name: 'About',\n    component: About\n  },\n  {\n    path: '/circuit-simulator',\n    name: 'CircuitSimulator',\n    component: CircuitSimulator\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}