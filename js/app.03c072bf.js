(function(t){function n(n){for(var e,r,u=n[0],o=n[1],c=n[2],l=0,d=[];l<u.length;l++)r=u[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e]);h&&h(n);while(d.length)d.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,n=0;n<s.length;n++){for(var i=s[n],e=!0,u=1;u<i.length;u++){var o=i[u];0!==a[o]&&(e=!1)}e&&(s.splice(n--,1),t=r(r.s=i[0]))}return t}var e={},a={app:0},s=[];function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,n,i){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)r.d(i,e,function(n){return t[n]}.bind(null,e));return i},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="https://fufler.github.io/nand-circuit-simulator/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=n,u=u.slice();for(var c=0;c<u.length;c++)n(u[c]);var h=o;s.push([0,"chunk-vendors"]),i()})({0:function(t,n,i){t.exports=i("cd49")},"01b7":function(t,n,i){},"5c0b":function(t,n,i){"use strict";i("9c0c")},7454:function(t,n,i){"use strict";i("01b7")},7502:function(t,n,i){},"7b7d":function(t,n,i){"use strict";i("e386")},9950:function(t,n,i){"use strict";i("7502")},"9c0c":function(t,n,i){},cd49:function(t,n,i){"use strict";i.r(n);i("e260"),i("e6cf"),i("cca6"),i("a79d");var e,a=i("2b0e"),s=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"nav"},[i("router-link",{attrs:{to:"/"}},[t._v("About")]),i("router-link",{attrs:{to:"/circuit-simulator"}},[t._v("Circuit simulator")])],1),i("div",{staticClass:"wrapper"},[i("router-view")],1)])},r=[],u=(i("5c0b"),i("9950"),i("2877")),o={},c=Object(u["a"])(o,s,r,!1,null,"501f77f0",null),h=c.exports,l=i("8c4f"),d=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"wrapper"},[t._v(" Project description goes hereâ€¦ ")])},v=[],f={name:"About"},k=f,p=(i("7454"),Object(u["a"])(k,d,v,!1,null,"6fc38f64",null)),m=p.exports,b=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"circuit-simulator"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.editDefinitionMode,expression:"editDefinitionMode"}],staticClass:"definition"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.definition,expression:"definition"}],domProps:{value:t.definition},on:{input:function(n){n.target.composing||(t.definition=n.target.value)}}}),t._v(" "),i("button",{on:{click:t.loadDefinition}},[t._v(" Load ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.editDefinitionMode,expression:"!editDefinitionMode"}],staticClass:"simulator"},[i("div",{ref:"cytoscape",staticClass:"cytoscape-container"}),i("div",{staticClass:"controls"},[i("button",{on:{click:t.loadDefinition}},[t._v(" Reset ")]),i("button",{staticClass:"run",on:{click:t.run}},[t._v(" Run ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.graphDisplayDepth,expression:"graphDisplayDepth"}],attrs:{placeholder:"Graph display depth"},domProps:{value:t.graphDisplayDepth},on:{input:function(n){n.target.composing||(t.graphDisplayDepth=n.target.value)}}})])])])},O=[],y=i("b85c"),g=i("d4ec"),j=i("2909"),A=(i("99af"),i("d81d"),i("b0c0"),i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("4ec9"),i("a630"),i("bee2")),B=i("262e"),w=i("2caf"),x=i("ec26"),I=function t(){Object(g["a"])(this,t),this.id=Object(x["a"])()};(function(t){t[t["LOW"]=0]="LOW",t[t["HIGH"]=1]="HIGH"})(e||(e={}));var P,D=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(t,e,a){var s;return Object(g["a"])(this,i),s=n.call(this),s.engine=t,s.device=a,s.name=e,s.signal=void 0,s}return Object(A["a"])(i,[{key:"getSignal",value:function(){var t;return null!==(t=this.engine.getSignalFromLinkedPin(this))&&void 0!==t?t:this.signal}},{key:"propagate",value:function(){var t=this.engine.getSignalFromLinkedPin(this);return void 0===t||this.signal!==t&&(this.signal=t,null==this.device||!this.device.hasCustomLogic||(this.engine.propagate(this.device),!1))}}]),i}(I),M=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){return Object(g["a"])(this,i),n.apply(this,arguments)}return Object(A["a"])(i,[{key:"getSignal",value:function(){return e.LOW}}]),i}(D),L=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){return Object(g["a"])(this,i),n.apply(this,arguments)}return Object(A["a"])(i,[{key:"getSignal",value:function(){return e.HIGH}}]),i}(D),S=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){return Object(g["a"])(this,i),n.apply(this,arguments)}return Object(A["a"])(i,[{key:"setSignal",value:function(t){t!==this.signal&&(this.signal=t,this.engine.propagate([this]))}}]),i}(D),C=i("e1f8"),N=i("3835"),z=i("9072"),T=(i("96cf"),i("a434"),i("7db0"),i("9911"),i("9ab4")),H=function(t,n){throw new t(n)},U=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){return Object(g["a"])(this,i),n.apply(this,arguments)}return i}(Object(z["a"])(Error)),_=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){return Object(g["a"])(this,i),n.apply(this,arguments)}return i}(Object(z["a"])(Error)),X=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){return Object(g["a"])(this,i),n.apply(this,arguments)}return i}(Object(z["a"])(Error)),Y=function(t){return new Promise((function(n){return setTimeout(n,t)}))},E=function(){function t(){Object(g["a"])(this,t),this.queue=[],this.pinsLinks=new Map,this.pinsLinksInverted=new Map,this.devicesConstructors=new Map}return Object(A["a"])(t,[{key:"run",value:function(t,n){var i,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(T["a"])(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,r,u,o,c,h,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=0,r=Date.now(),u=function(){return++s%1e3!==0||Date.now()-r<=e};case 3:if(!(this.queue.length>0&&u())){a.next=13;break}if(o=this.queue.splice(0,1),c=Object(N["a"])(o,1),h=c[0],h.propagate()&&h instanceof D&&(l=this.queue).push.apply(l,Object(j["a"])(null!==(i=this.pinsLinks.get(h))&&void 0!==i?i:[])),d=!0,void 0!==t&&(d=d&&t(h)),void 0===n||!d){a.next=11;break}return a.next=11,Y(n);case 11:a.next=3;break;case 13:return a.abrupt("return",0===this.queue.length);case 14:case"end":return a.stop()}}),a,this)})))}},{key:"propagate",value:function(t){var n;(n=this.queue).push.apply(n,Object(j["a"])(Array.isArray(t)?t:[t]))}},{key:"linkPins",value:function(t,n){var i;if(t===n)throw new U("Self links are not allowed");if(this.pinsLinksInverted.has(n))throw new U("There is a link already defined with dst ".concat(n.name));var e=null!==(i=this.pinsLinks.get(t))&&void 0!==i?i:[];if(-1!==e.indexOf(n))throw new U("There is a link already defined between ".concat(t.name," and ").concat(n.name));e.push(n),this.pinsLinksInverted.set(n,t),this.pinsLinks.set(t,e)}},{key:"link",value:function(t,n){var i=t instanceof D?[t]:Array.isArray(t)?t:t.pins,e=n instanceof D?[n]:Array.isArray(n)?n:n.pins;if(i.length!==e.length)throw new U("Cannot link buses of different length: ".concat(i.length," and ").concat(e.length));for(var a=0;a<i.length;a++)this.linkPins(i[a],e[a])}},{key:"getSignalFromLinkedPin",value:function(t){var n;return null===(n=this.pinsLinksInverted.get(t))||void 0===n?void 0:n.getSignal()}},{key:"registerDeviceConstructor",value:function(t,n){if(this.devicesConstructors.has(n))throw new _("Duplicate device constructor name ".concat(n," specified"));this.devicesConstructors.set(n,t)}},{key:"loadDefinition",value:function(t){var n,i,e;G(t);var a,s=new Map,r=Object(y["a"])(t.pins);try{for(r.s();!(a=r.n()).done;){var u=a.value,o=new S(this,null!==(n=u.name)&&void 0!==n?n:"pin-".concat(s.size));if(void 0!==u.signal&&o.setSignal(u.signal),s.has(u.id))throw new Error("Multiple pins with same id ".concat(u.id," found"));s.set(u.id,o)}}catch(j){r.e(j)}finally{r.f()}var c,h=new Map,l=Object(y["a"])(t.devices);try{for(l.s();!(c=l.n()).done;){var d=c.value,v=null!==(i=this.devicesConstructors.get(d.type))&&void 0!==i?i:H(X,"Unknown device type specified ".concat(d.type)),f=new v(this,null!==(e=d.name)&&void 0!==e?e:d.type);if(f.init(),h.has(d.id))throw new Error("Duplicate device id ".concat(d.id," specified"));h.set(d.id,f)}}catch(j){l.e(j)}finally{l.f()}var k,p=function(t){var n,i,e,a=t.indexOf(".");if(-1===a)return null!==(n=s.get(t))&&void 0!==n?n:H(X,"Ping with specified id ".concat(t," not found"));var r=t.substring(0,a),u=null!==(i=h.get(r))&&void 0!==i?i:H(X,"Device with specified id ".concat(r," not found")),o=u.getPins(),c=t.substring(a+1);return null!==(e=o.map((function(t){return t[0]})).find((function(t){return t.name===c})))&&void 0!==e?e:H(X,"Pin with name ".concat(c," not found in device ").concat(r))},m=Object(y["a"])(t.links);try{for(m.s();!(k=m.n()).done;){var b=k.value,O=p(b.srcId),g=p(b.dstId);this.link(O,g)}}catch(j){m.e(j)}finally{m.f()}}},{key:"getPins",value:function(){var t=new Set([].concat(Object(j["a"])(Array.from(this.pinsLinks.keys())),Object(j["a"])(Array.from(this.pinsLinksInverted.keys()))));return Array.from(t)}},{key:"getLinks",value:function(){return Array.from(this.pinsLinksInverted.entries()).map((function(t){var n=Object(N["a"])(t,2),i=n[0],e=n[1];return{src:e,dst:i}}))}}]),t}(),W=C["a"].object({devices:C["a"].array(C["a"].object({type:C["a"].string().nonempty(),name:C["a"].string().optional(),id:C["a"].string().nonempty()})).nonempty(),pins:C["a"].array(C["a"].object({id:C["a"].string().nonempty(),name:C["a"].string().optional(),signal:C["a"].number().lte(e.HIGH).gte(e.LOW).optional()})).nonempty(),links:C["a"].array(C["a"].object({srcId:C["a"].string().nonempty(),dstId:C["a"].string().nonempty()})).nonempty()}),G=function(t){try{W.parse(t)}catch(n){throw new X("Invalid circuit definition")}},$=function(t){try{return W.parse(JSON.parse(t))}catch(n){throw new X("String is not valid circuit definition")}},R=i("44e1"),Z=i.n(R),q=i("f81a"),F=i.n(q),J=i("b17d"),K=i.n(J),Q=(i("159b"),i("2ef0")),V=i.n(Q),tt=function t(n,i,e,a){Object(g["a"])(this,t);var s=null!==e&&void 0!==e?e:"bus-".concat(Object(x["a"])());this.name=s,this.pins=V.a.times(n,(function(t){return new D(i,"".concat(s,"-").concat(t),a)}))};(function(t){t[t["INPUT"]=0]="INPUT",t[t["OUTPUT"]=1]="OUTPUT",t[t["INTERNAL"]=2]="INTERNAL"})(P||(P={}));var nt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(t,e,a){var s;return Object(g["a"])(this,i),s=n.call(this),s.engine=t,s.name=e,s.device=a,s}return Object(A["a"])(i,[{key:"link",value:function(t,n){this.engine.link(t,n)}}]),i}(I),it=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.hasCustomLogic=!0,t}return Object(A["a"])(i,[{key:"getDevices",value:function(){return[]}}]),i}(nt),et=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.hasCustomLogic=!1,t.pins=[],t.buses=[],t.devices=[],t}return Object(A["a"])(i,[{key:"storePin",value:function(t,n){return this.pins.push([t,n]),t}},{key:"makePin",value:function(t,n){return this.storePin(new D(this.engine,t,this),n)}},{key:"makeInPin",value:function(t){return this.makePin(t,P.INPUT)}},{key:"makeOutPin",value:function(t){return this.makePin(t,P.OUTPUT)}},{key:"makeBus",value:function(t,n,i){var e=this,a=new tt(t,this.engine,n,this);return this.buses.push(a),a.pins.forEach((function(t){return e.storePin(t,i)})),a}},{key:"makeInBus",value:function(t,n){return this.makeBus(t,n,P.INPUT)}},{key:"makeOutBus",value:function(t,n){return this.makeBus(t,n,P.OUTPUT)}},{key:"makeDevices",value:function(t,n,i){var e,a=this,s=V.a.times(t,(function(t){return new n(a.engine,"".concat(i,"-").concat(t+1),a)}));return s.forEach((function(t){return t.init()})),(e=this.devices).push.apply(e,Object(j["a"])(s)),s}},{key:"makeDevice",value:function(t,n){return this.makeDevices(1,t,n)[0]}},{key:"makeFalsePin",value:function(t){return this.storePin(new M(this.engine,t,this),P.INTERNAL)}},{key:"makeTruePin",value:function(t){return this.storePin(new L(this.engine,t,this),P.INTERNAL)}},{key:"getPins",value:function(){return this.pins}},{key:"getBuses",value:function(){return this.buses}},{key:"getDevices",value:function(){return this.devices}},{key:"propagate",value:function(){return!1}}]),i}(nt),at=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.inA=t.makeInPin("inA"),t.inB=t.makeInPin("inB"),t.out=t.makeOutPin("out"),t}return i}(et),st=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.inA=t.makeInBus(16,"inA"),t.inB=t.makeInBus(16,"inB"),t.out=t.makeOutBus(16,"out"),t}return i}(et),rt=i("257e"),ut=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(t,e,a){var s;return Object(g["a"])(this,i),s=n.call(this,t,e,a),s.inA=new D(t,"inA",Object(rt["a"])(s)),s.inB=new D(t,"inB",Object(rt["a"])(s)),s.out=new S(t,"out",Object(rt["a"])(s)),s}return Object(A["a"])(i,[{key:"propagate",value:function(){var t=this.inA.getSignal(),n=this.inB.getSignal();return this.out.setSignal(t===e.LOW||n===e.LOW||t!==n?e.HIGH:e.LOW),!1}},{key:"getPins",value:function(){return[[this.inA,P.INPUT],[this.inB,P.INPUT],[this.out,P.OUTPUT]]}},{key:"getBuses",value:function(){return[]}},{key:"init",value:function(){}}]),i}(it),ot=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.nand=t.makeDevice(ut,"nand"),t.in=t.makeInPin("in"),t.out=t.makeOutPin("out"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.in,this.nand.inA),this.link(this.in,this.nand.inB),this.link(this.nand.out,this.out)}}]),i}(et),ct=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.nand=t.makeDevice(ut,"nand"),t.notA=t.makeDevice(ot,"notA"),t.notB=t.makeDevice(ot,"notB"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.inA,this.notA.in),this.link(this.inB,this.notB.in),this.link(this.notA.out,this.nand.inA),this.link(this.notB.out,this.nand.inB),this.link(this.nand.out,this.out)}}]),i}(at),ht=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.nand=t.makeDevice(ut,"nand"),t.not=t.makeDevice(ot,"not"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.inA,this.nand.inA),this.link(this.inB,this.nand.inB),this.link(this.nand.out,this.not.in),this.link(this.not.out,this.out)}}]),i}(at),lt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.inA=t.makeInPin("inA"),t.inB=t.makeInPin("inB"),t.sel=t.makeInPin("sel"),t.out=t.makeOutPin("out"),t.or=t.makeDevice(ct,"or"),t.not=t.makeDevice(ot,"not"),t.andA=t.makeDevice(ht,"andA"),t.andB=t.makeDevice(ht,"andB"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.sel,this.not.in),this.link(this.inA,this.andA.inA),this.link(this.not.out,this.andA.inB),this.link(this.inB,this.andB.inB),this.link(this.sel,this.andB.inA),this.link(this.andA.out,this.or.inA),this.link(this.andB.out,this.or.inB),this.link(this.or.out,this.out)}}]),i}(et),dt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.inA=t.makeInBus(16,"inA"),t.inB=t.makeInBus(16,"inB"),t.sel=t.makeInPin("sel"),t.out=t.makeOutBus(16,"out"),t.muxes=t.makeDevices(16,lt,"mux"),t}return Object(A["a"])(i,[{key:"init",value:function(){var t=this;this.link(this.inA,this.muxes.map((function(t){return t.inA}))),this.link(this.inB,this.muxes.map((function(t){return t.inB}))),this.link(this.muxes.map((function(t){return t.out})),this.out),this.link(V.a.times(16,(function(){return t.sel})),this.muxes.map((function(t){return t.sel})))}}]),i}(et),vt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.in=t.makeInBus(16,"in"),t.out=t.makeOutBus(16,"out"),t.nots=t.makeDevices(16,ot,"not"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.in,this.nots.map((function(t){return t.in}))),this.link(this.nots.map((function(t){return t.out})),this.out)}}]),i}(et),ft=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.ands=t.makeDevices(16,ht,"and"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.inA,this.ands.map((function(t){return t.inA}))),this.link(this.inB,this.ands.map((function(t){return t.inB}))),this.link(this.ands.map((function(t){return t.out})),this.out)}}]),i}(st),kt=(i("fb6a"),function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.nandAB=t.makeDevice(ut,"nandAB"),t.nandA=t.makeDevice(ut,"nandA"),t.nandB=t.makeDevice(ut,"nandB"),t.nand=t.makeDevice(ut,"nand"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.inA,this.nandAB.inA),this.link(this.inB,this.nandAB.inB),this.link(this.inA,this.nandA.inA),this.link(this.nandAB.out,this.nandA.inB),this.link(this.inB,this.nandB.inB),this.link(this.nandAB.out,this.nandB.inA),this.link(this.nandA.out,this.nand.inA),this.link(this.nandB.out,this.nand.inB),this.link(this.nand.out,this.out)}}]),i}(at)),pt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.inA=t.makeInPin("inA"),t.inB=t.makeInPin("inB"),t.outSum=t.makeOutPin("outSum"),t.outCarry=t.makeOutPin("outCarry"),t.and=t.makeDevice(ht,"and"),t.xor=t.makeDevice(kt,"xor"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.inA,this.and.inA),this.link(this.inB,this.and.inB),this.link(this.and.out,this.outCarry),this.link(this.inA,this.xor.inA),this.link(this.inB,this.xor.inB),this.link(this.xor.out,this.outSum)}}]),i}(et),mt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.inA=t.makeInPin("inA"),t.inB=t.makeInPin("inB"),t.inC=t.makeInPin("inC"),t.outSum=t.makeOutPin("outSum"),t.outCarry=t.makeOutPin("outCarry"),t.halfAdder1=t.makeDevice(pt,"halfAdder1"),t.halfAdder2=t.makeDevice(pt,"halfAdder2"),t.or=t.makeDevice(ct,"or"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.inA,this.halfAdder1.inA),this.link(this.inB,this.halfAdder1.inB),this.link(this.halfAdder1.outSum,this.halfAdder2.inA),this.link(this.inC,this.halfAdder2.inB),this.link(this.halfAdder2.outSum,this.outSum),this.link(this.halfAdder1.outCarry,this.or.inA),this.link(this.halfAdder2.outCarry,this.or.inB),this.link(this.or.out,this.outCarry)}}]),i}(et),bt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.fullAdders=t.makeDevices(16,mt,"fullAdder"),t.falsePin=t.makeFalsePin("false"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.falsePin,this.fullAdders[0].inC),this.link(this.inA,this.fullAdders.map((function(t){return t.inA}))),this.link(this.inB,this.fullAdders.map((function(t){return t.inB}))),this.link(this.fullAdders.map((function(t){return t.outSum})),this.out),this.link(this.fullAdders.map((function(t){return t.outCarry})).slice(0,15),this.fullAdders.map((function(t){return t.inC})).slice(1))}}]),i}(st),Ot=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.in=t.makeInBus(8,"in"),t.out=t.makeOutPin("out"),t.ors=t.makeDevices(7,ct,"or"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.in.pins[0],this.ors[0].inA),this.link(this.in.pins[1],this.ors[0].inB),this.link(this.in.pins.slice(2),this.ors.slice(1).map((function(t){return t.inB}))),this.link(this.ors.slice(0,6).map((function(t){return t.out})),this.ors.slice(1).map((function(t){return t.inA}))),this.link(this.ors[6].out,this.out)}}]),i}(et),yt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.in=t.makeInBus(16,"in"),t.out=t.makeOutPin("out"),t.orHigh=t.makeDevice(Ot,"orHigh"),t.orLow=t.makeDevice(Ot,"orLow"),t.or=t.makeDevice(ct,"or"),t}return Object(A["a"])(i,[{key:"init",value:function(){this.link(this.in.pins.slice(0,8),this.orLow.in),this.link(this.in.pins.slice(8),this.orHigh.in),this.link(this.orLow.out,this.or.inA),this.link(this.orHigh.out,this.or.inB),this.link(this.or.out,this.out)}}]),i}(et),gt=function(t){Object(B["a"])(i,t);var n=Object(w["a"])(i);function i(){var t;return Object(g["a"])(this,i),t=n.apply(this,arguments),t.inA=t.makeInBus(16,"inA"),t.inB=t.makeInBus(16,"inB"),t.out=t.makeOutBus(16,"out"),t.zx=t.makeInPin("zx"),t.zy=t.makeInPin("zy"),t.nx=t.makeInPin("nx"),t.ny=t.makeInPin("ny"),t.f=t.makeInPin("f"),t.no=t.makeInPin("no"),t.zr=t.makeOutPin("zr"),t.ng=t.makeOutPin("ng"),t.zeroXMux=t.makeDevice(dt,"zeroXMux"),t.zeroYMux=t.makeDevice(dt,"zeroYMux"),t.invertXNot=t.makeDevice(vt,"invertXNot"),t.invertYNot=t.makeDevice(vt,"invertYNot"),t.invertXMux=t.makeDevice(dt,"invertXMux"),t.invertYMux=t.makeDevice(dt,"invertYMux"),t.falsePin=t.makeFalsePin("falsePin"),t.and16=t.makeDevice(ft,"and16"),t.adder16=t.makeDevice(bt,"adder16"),t.resultMux=t.makeDevice(dt,"resultMux"),t.resultInvertNot=t.makeDevice(vt,"resultInvertNot"),t.resultInvertMux=t.makeDevice(dt,"resultInvertMux"),t.resultZeroOr=t.makeDevice(yt,"resultZeroOr"),t.resultZeroNot=t.makeDevice(ot,"resultZeroNot"),t}return Object(A["a"])(i,[{key:"init",value:function(){var t=this,n=V.a.times(16,(function(){return t.falsePin}));this.link(n,this.zeroXMux.inB),this.link(n,this.zeroYMux.inB),this.link(this.inA,this.zeroXMux.inA),this.link(this.inB,this.zeroYMux.inA),this.link(this.zx,this.zeroXMux.sel),this.link(this.zy,this.zeroYMux.sel),this.link(this.zeroXMux.out,this.invertXMux.inA),this.link(this.zeroXMux.out,this.invertXNot.in),this.link(this.invertXNot.out,this.invertXMux.inB),this.link(this.nx,this.invertXMux.sel),this.link(this.zeroYMux.out,this.invertYMux.inA),this.link(this.zeroYMux.out,this.invertYNot.in),this.link(this.invertYNot.out,this.invertYMux.inB),this.link(this.ny,this.invertYMux.sel),this.link(this.invertXMux.out,this.adder16.inA),this.link(this.invertYMux.out,this.adder16.inB),this.link(this.invertXMux.out,this.and16.inA),this.link(this.invertYMux.out,this.and16.inB),this.link(this.and16.out,this.resultMux.inA),this.link(this.adder16.out,this.resultMux.inB),this.link(this.f,this.resultMux.sel),this.link(this.resultMux.out,this.resultInvertNot.in),this.link(this.resultMux.out,this.resultInvertMux.inA),this.link(this.resultInvertNot.out,this.resultInvertMux.inB),this.link(this.no,this.resultInvertMux.sel),this.link(this.resultInvertMux.out,this.out),this.link(this.resultInvertMux.out.pins[15],this.ng),this.link(this.resultInvertMux.out,this.resultZeroOr.in),this.link(this.resultZeroOr.out,this.resultZeroNot.in),this.link(this.resultZeroNot.out,this.zr)}}]),i}(et),jt=[].concat(Object(j["a"])(V()(16).times((function(t){return{id:"inA-".concat(t),name:"inA-".concat(t),signal:15===t?e.HIGH:e.LOW}}))),Object(j["a"])(V()(16).times((function(t){return{id:"inB-".concat(t),name:"inB-".concat(t),signal:10===t?e.HIGH:e.LOW}}))),[{id:"f",name:"f",signal:e.HIGH},{id:"zx",name:"zx",signal:e.LOW},{id:"nx",name:"nx",signal:e.LOW},{id:"zy",name:"zy",signal:e.LOW},{id:"ny",name:"ny",signal:e.LOW},{id:"no",name:"no",signal:e.HIGH}]),At={pins:[].concat(Object(j["a"])(jt),Object(j["a"])(V.a.times(16,(function(t){return{id:"dst-".concat(t),name:"dst-".concat(t)}})))),devices:[{type:"ALU",id:"alu"}],links:[].concat(Object(j["a"])(jt.map((function(t){return{srcId:t.id,dstId:"alu.".concat(t.id)}}))),Object(j["a"])(V.a.times(16,(function(t){return{srcId:"alu.out-".concat(t),dstId:"dst-".concat(t)}}))))},Bt=function t(){Object(g["a"])(this,t),this.name="dagre",this.nodeDimensionsIncludeLabels=!0,this.fit=!1,this.rankSep=200,this.nodeSep=50,this.edgeSep=50},wt=a["a"].extend({name:"CircuitSimulator",data:function(){return{definition:JSON.stringify(At,null,2),editDefinitionMode:!0,graphDisplayDepth:"1",simulationInterval:"10"}},mounted:function(){Z.a.use(F.a),Z.a.use(K.a);var t=this.$options;t.cy=Z()({container:this.$refs.cytoscape,style:[{selector:"node",style:{label:"data(label)"}},{selector:"node.device:selected",style:{"background-color":"#f5e663"}},{selector:"node.device",style:{shape:"round-rectangle"}},{selector:"node.high-signal",style:{"background-color":"#73a580"}},{selector:"node.low-signal",style:{"background-color":"#bc4b51"}}]})},methods:{loadDefinition:function(){var t,n,i=this.$options.engine=new E;i.registerDeviceConstructor(gt,"ALU");var e=$(this.definition);i.loadDefinition(e);var a,s=this.$options.cy,r=[],u=i.getLinks(),o=new Set,c=new Map,h=function t(n){if(void 0===n)return 0;if(c.has(n.id))return c.get(n.id);var i=t(n.device)+(n instanceof nt?1:0);return c.set(n.id,i),i},l=parseInt(this.graphDisplayDepth,10),d=Object(y["a"])(u);try{for(d.s();!(a=d.n()).done;){for(var v=a.value,f=v.src,k=v.dst,p=!1,m=0,b=[f,k];m<b.length;m++){var O=b[m];if(h(O)>l){p=!0;break}r.push({group:"nodes",classes:"pin",data:{id:O.id,label:O.name,parent:null===(t=O.device)||void 0===t?void 0:t.id}}),void 0!==O.device&&o.add(O.device)}p||r.push({group:"edges",data:{id:"".concat(f.id," - ").concat(k.id),source:f.id,target:k.id}})}}catch(x){d.e(x)}finally{d.f()}var g=Array.from(o);while(g.length>0){var j=g.pop();void 0===j.device||o.has(j.device)||(o.add(j.device),g.push(j.device))}var A,B=Object(y["a"])(o);try{for(B.s();!(A=B.n()).done;){var w=A.value;r.push({group:"nodes",classes:"device",data:{id:w.id,parent:null===(n=w.device)||void 0===n?void 0:n.id,label:w.name}})}}catch(x){B.e(x)}finally{B.f()}s.startBatch(),s.elements().remove(),s.add(r),s.endBatch(),s.layout(new Bt).run(),this.editDefinitionMode=!1},run:function(){var t=this.$options;t.engine.run((function(n){if(!(n instanceof D))return!1;var i=t.cy.getElementById(n.id);if(0===i.size())return!1;i.removeClass(["high-signal","low-signal"]);var a=n.getSignal();return void 0!==a&&i.addClass(a===e.LOW?"low-signal":"high-signal"),!0}),parseInt(this.simulationInterval,10),1e5)}}}),xt=wt,It=(i("7b7d"),Object(u["a"])(xt,b,O,!1,null,"9bd17bee",null)),Pt=It.exports;a["a"].use(l["a"]);var Dt=[{path:"/",name:"About",component:m},{path:"/circuit-simulator",name:"CircuitSimulator",component:Pt}],Mt=new l["a"]({routes:Dt}),Lt=Mt,St=i("2f62");a["a"].use(St["a"]);var Ct=new St["a"].Store({state:{},mutations:{},actions:{},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:Lt,store:Ct,render:function(t){return t(h)}}).$mount("#app")},e386:function(t,n,i){}});
//# sourceMappingURL=app.03c072bf.js.map